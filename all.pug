doctype html
html(lang='en-US')
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width')
    title
      | White-space and character 160 | Adam Koch
    link(rel='profile' href='https://gmpg.org/xfn/11')
    link(rel='stylesheet' type='text/css' media='all' href='https://wordpress.adamkoch.com/wp-content/themes/twentyeleven/style.css?ver=20190507')
    link(rel='pingback' href='https://wordpress.adamkoch.com/xmlrpc.php')
    //
      [if lt IE 9]>
      <script src="https://wordpress.adamkoch.com/wp-content/themes/twentyeleven/js/html5.js?ver=3.7.0" type="text/javascript"></script>
      <![endif]
    meta(name='robots' content='max-image-preview:large')
    link(rel='dns-prefetch' href='//secure.gravatar.com')
    link(rel='dns-prefetch' href='//s.w.org')
    link(rel='dns-prefetch' href='//v0.wordpress.com')
    link(rel='dns-prefetch' href='//i0.wp.com')
    link(rel='dns-prefetch' href='//i1.wp.com')
    link(rel='dns-prefetch' href='//i2.wp.com')
    link(rel='alternate' type='application/rss+xml' title='Adam Koch &raquo; Feed' href='https://wordpress.adamkoch.com/feed/')
    link(rel='alternate' type='application/rss+xml' title='Adam Koch &raquo; Comments Feed' href='https://wordpress.adamkoch.com/comments/feed/')
    link(rel='alternate' type='application/rss+xml' title='Adam Koch &raquo; White-space and character 160 Comments Feed' href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/feed/')
    link(id="wp-block-library-css" rel='stylesheet' href='https://wordpress.adamkoch.com/wp-includes/css/dist/block-library/style.min.css?ver=5.8' type='text/css' media='all')
    style(id='wp-block-library-inline-css' type='text/css').
      .has-text-align-justify{text-align:justify;}
    style(id='wp-block-library-theme-inline-css' type='text/css')
      | #start-resizable-editor-section{display:none}.wp-block-audio figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio figcaption{color:hsla(0,0%,100%,.65)}.wp-block-code{font-family:Menlo,Consolas,monaco,monospace;color:#1e1e1e;padding:.8em 1em;border:1px solid #ddd;border-radius:4px}.wp-block-embed figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed figcaption{color:hsla(0,0%,100%,.65)}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:hsla(0,0%,100%,.65)}.wp-block-image figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-image figcaption{color:hsla(0,0%,100%,.65)}.wp-block-pullquote{border-top:4px solid;border-bottom:4px solid;margin-bottom:1.75em;color:currentColor}.wp-block-pullquote__citation,.wp-block-pullquote cite,.wp-block-pullquote footer{color:currentColor;text-transform:uppercase;font-size:.8125em;font-style:normal}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;position:relative;font-style:normal}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large{border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-group.has-background{padding:1.25em 2.375em;margin-top:0;margin-bottom:0}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto;opacity:.4}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table thead{border-bottom:3px solid}.wp-block-table tfoot{border-top:3px solid}.wp-block-table td,.wp-block-table th{padding:.5em;border:1px solid;word-break:normal}.wp-block-table figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video figcaption{color:hsla(0,0%,100%,.65)}.wp-block-template-part.has-background{padding:1.25em 2.375em;margin-top:0;margin-bottom:0}#end-resizable-editor-section{display:none}

    style(type='text/css').
      img#wpstats{display:none}
    style.
      /* Link color */
      a,
      #site-title a:focus,
      #site-title a:hover,
      #site-title a:active,
      .entry-title a:hover,
      .entry-title a:focus,
      .entry-title a:active,
      .widget_twentyeleven_ephemera .comments-link a:hover,
      section.recent-posts .other-recent-posts a[rel="bookmark"]:hover,
      section.recent-posts .other-recent-posts .comments-link a:hover,
      .format-image footer.entry-meta a:hover,
      #site-generator a:hover {
      color: #2b74a5;
      }
      section.recent-posts .other-recent-posts .comments-link a:hover {
      border-color: #2b74a5;
      }
      article.feature-image.small .entry-summary p a:hover,
      .entry-header .comments-link a:hover,
      .entry-header .comments-link a:focus,
      .entry-header .comments-link a:active,
      .feature-slider a.active {
      background-color: #2b74a5;
      }
    style(type='text/css' id='twentyeleven-header-css').
      #site-title a,
      #site-description {
      color: #2b74a5;
      }
    // Jetpack Open Graph Tags
    meta(property='og:type' content='article')
    meta(property='og:title' content='White-space and character 160')
    meta(property='og:url' content='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/')
    meta(property='og:description' content='I came across a problem in Internet Explorer (it wasn\'t a problem with Firefox) when I was trying to compare two strings. To me, one string looked to have an extra space in the front. No prob…')
    meta(property='article:published_time' content='2009-07-25T19:41:42+00:00')
    meta(property='article:modified_time' content='2012-05-29T16:48:33+00:00')
    meta(property='og:site_name' content='Adam Koch')
    meta(property='og:image' content='https://i0.wp.com/wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy-2.jpg?fit=512%2C512&#038;ssl=1')
    meta(property='og:image:width' content='512')
    meta(property='og:image:height' content='512')
    meta(property='og:locale' content='en_US')
    meta(name='twitter:site' content='@aakoch')
    meta(name='twitter:text:title' content='White-space and character 160')
    meta(name='twitter:image' content='https://i0.wp.com/wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy-2.jpg?fit=240%2C240&ssl=1')
    meta(name='twitter:card' content='summary')
    // End Jetpack Open Graph Tags
    link(rel='icon' href='https://i0.wp.com/wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy-2.jpg?fit=32%2C32&#038;ssl=1' sizes='32x32')
    link(rel='icon' href='https://i0.wp.com/wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy-2.jpg?fit=192%2C192&#038;ssl=1' sizes='192x192')
    link(rel='apple-touch-icon' href='https://i0.wp.com/wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy-2.jpg?fit=180%2C180&#038;ssl=1')
    meta(name='msapplication-TileImage' content='https://i0.wp.com/wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy-2.jpg?fit=270%2C270&#038;ssl=1')
    style(type='text/css' id='wp-custom-css').
      #post-2960 > div > p:nth-child(n+7):nth-child(-n+15) {
      text-indent: 2em;
      }

      .aside {

      margin:  1em 2em;
      font-family: "Space Monkey", "Times New Roman", times

      }
      .aside-top {
      border-top: 1px solid black;
      padding: 1em 0 0;
      }

      .aside-middle {
      padding: 0 1em;
      }

      .aside-bottom {
      border-bottom: 1px solid black;
      padding: 0 0 1em;
      }
  body.post-template-default.single.single-post.postid-1620.single-format-standard.wp-embed-responsive.single-author.singular.two-column.right-sidebar
    // comment
    .skip-link
      a.assistive-text(href='#content') Skip to primary content
    #page.hfeed
      header#branding(role='banner')
        hgroup
          h1#site-title
            span
              a(href='https://www.adamkoch.com/' rel='home') Adam Koch
          h2#site-description Software Developer and Clean Code Advocate
        a(href='https://www.adamkoch.com/')
          img(src='https://wordpress.adamkoch.com/wp-content/uploads/2016/08/cropped-brainscan-copy.jpg' width='1000' height='287' alt='Adam Koch')
        nav#access(role='navigation')
          h3.assistive-text Main menu
          .menu-header-container
            ul#menu-header.menu
              li#menu-item-3033(class='menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-3033')
                a(href='https://wordpress.adamkoch.com/posts/') Posts
              li#menu-item-2488(class='menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-2488')
                a(href='https://www.adamkoch.com/') About Me
        // #access
        // #branding
        #main
          #primary
            #content(role='main')
              // #nav-single
              article#post-1620.post-1620.post.type-post.status-publish.format-standard.hentry.category-professional.tag-129.tag-ascii.tag-char.tag-character.tag-character-160.tag-charcodeat.tag-internet-explorer.tag-javascript.tag-jquery.tag-linkedin.tag-trim
                header.entry-header
                  h1.entry-title White-space and character 160
                  .entry-meta
                    span.sep Posted on 
                    a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/' title='1:41 PM ' rel='bookmark')
                      time.entry-date(datetime='2009-07-25T13:41:42-06:00') 2009-07-25
                    span.by-author
                      span.sep  by 
                      span.author.vcard
                        a.url.fn.n(href='https://wordpress.adamkoch.com/author/admin/' title='View all posts by Adam' rel='author') Adam
                  // .entry-meta
                  // .entry-header
                  .entry-content
                    style(type='text/css').
                      .pass {
                      background-color: #ADFFAD;
                      }
                      .fail {
                      background-color: #FFADAD;
                      }
                      table#whitespacedata, 
                      table#whitespacedata tr,
                      table#whitespacedata tr td,
                      table#whitespacedata tr th {
                      color: black;
                      border: solid 1px black;
                      }
                      table#whitespacedata, 
                      table#whitespacedata tr,
                      table#whitespacedata tr td,
                      table#whitespacedata tr th {
                      color: black;
                      border: solid 1px black;
                      }
                      table#whitespacedata td,
                      table#whitespacedata th {
                      padding: 3px;
                      }
                    p I came across a problem in Internet Explorer (it wasn't a problem with Firefox) when I was trying to compare two strings. To me, one string looked to have an extra space in the front. No problem, I'll just call the 
                      a(href='http://docs.jquery.com/Utilities/jQuery.trim#str') jQuery trim function 
                      | . Well, that didn't work. So I used 
                      a(href='https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/String/charCodeAt') charCodeAt 
                      | and found it was ASCII character 160. I looked up 
                      a(title='char code 160' href='http://htmlhelp.com/reference/charset/iso160-191.html') char code 160 
                      | and saw that it is a "Non-breaking space". You would think that a "space" character would be trimmed. I looked at the jQuery code that does the trimming and the grep pattern uses 
                      code \s
                      | . So, evidently you can't use 
                      code \s 
                      | to catch the "Non-breaking space" in IE. I wonder why no one else has seen this. I wrote up a 
                      a(href='../../../../char160test.pug') test page 
                      | to illustrate this. 
                    p To create the non-breaking space, you can use 
                      code String.fromCharCode(160) 
                      | or the Unicode representation "\u00A0". "&#160;" doesn't seem to work when using regular expressions, although it behaves the same when printed. 
                    table#whitespacedata(border='1' cellspacing='3' cellpadding='3')
                      tbody
                        tr(style='background-color: #ADD6FF')
                          th  Browser
                          th  Evaluates character 160 as white-space 
                        tr.pass
                          td Firefox 3, 3.5
                          td Yes
                        tr.pass
                          td Chrome 3.0
                          td Yes
                        tr.fail
                          td Internet Explorer 7, 8
                          td No
                        tr.fail
                          td Safari 3.2
                          td No
                        tr.pass
                          td Opera 9
                          td Yes
                    .sharedaddy.sd-sharing-enabled
                      .robots-nocontent.sd-block.sd-social.sd-social-icon.sd-sharing
                        h3.sd-title Share this:
                        .sd-content
                          ul
                            li.share-twitter
                              a.share-twitter.sd-button.share-icon.no-text(rel='nofollow noopener noreferrer' data-shared='sharing-twitter-1620' href='https://twitter.com/intent/tweet?text=White-space%20and%20character%20160&url=https%3A%2F%2Fwordpress.adamkoch.com%2F2009%2F07%2F25%2Fwhite-space-and-character-160' target='_blank' title='Click to share on Twitter')
                                span
                                span.sharing-screen-reader-text Click to share on Twitter (Opens in new window)
                            li.share-end
                    #jp-relatedposts.jp-relatedposts
                      h3.jp-relatedposts-headline
                        em Related
                  // .entry-content
                  footer.entry-meta
                    | This entry was posted in 
                    a(href='https://wordpress.adamkoch.com/category/professional/' rel='category tag') Professional 
                    | and tagged 
                    a(href='https://wordpress.adamkoch.com/tag/160/' rel='tag') 160
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/ascii/' rel='tag') ascii
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/char/' rel='tag') char
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/character/' rel='tag') character
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/character-160/' rel='tag') character 160
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/charcodeat/' rel='tag') charCodeAt
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/internet-explorer/' rel='tag') internet explorer
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/javascript/' rel='tag') javascript
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/jquery/' rel='tag') jquery
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/linkedin/' rel='tag') linkedin
                    | , 
                    a(href='https://wordpress.adamkoch.com/tag/trim/' rel='tag') trim 
                    | by 
                    a(href='https://wordpress.adamkoch.com/author/admin/') Adam
                    | . Bookmark the 
                    a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/' title='Permalink to White-space and character 160' rel='bookmark') permalink
                    | .
                  // .entry-meta
                  // #post-1620
                  #comments
                    h2#comments-title
                      | 13 thoughts on &ldquo;
                      span White-space and character 160
                      | &rdquo;
                    ol.commentlist
                      li#li-comment-635.comment.even.thread-even.depth-1
                        article#comment-635.comment
                          footer.comment-meta
                            .comment-author.vcard
                              img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/ee986461cdab0232028104bd1fb766d0?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/ee986461cdab0232028104bd1fb766d0?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                              span.fn
                                a.url(href='http://xbhl.net/myhockeyportal' rel='external nofollow ugc') Gino 
                              | on 
                              a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-635')
                                time(datetime='2009-07-28T01:24:04-06:00') 2009-07-28 at 1:24 AM 
                              span.says said:
                            // .comment-author .vcard
                          .comment-content
                            p You saved me hours of debugging in ie. I was using .innerHTML to insert a php page with a table, and i kept getting a runtime error. I spend a good 2 hours debugging only to finally see your post about you having that error when inserting a form within a form. I looked and indeed the DIV displaying the php table had a form around it. Thanks a lot dude!!! 🙂

                          // .reply
                          // #comment-##
                          // #comment-##
                          li#li-comment-1704.comment.odd.alt.thread-odd.thread-alt.depth-1
                            article#comment-1704.comment
                              footer.comment-meta
                                .comment-author.vcard
                                  img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/d219af79b45e5891507fda4c4c2139a0?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/d219af79b45e5891507fda4c4c2139a0?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                  span.fn fred 
                                  | on 
                                  a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-1704')
                                    time(datetime='2012-07-22T04:28:02-06:00') 2012-07-22 at 4:28 AM 
                                  span.says said:
                                // .comment-author .vcard
                              .comment-content
                                p damnit 3 years later and I still run into this bug (with chrome btw)
                                  br
                                  | it looks like a contenteditable uses 160 as a whitespace in chrome (/webkit?)
                                  br
                                  | thanks for your insight

                              // .reply
                              // #comment-##
                              // #comment-##
                              li#li-comment-2224.comment.even.thread-even.depth-1
                                article#comment-2224.comment
                                  footer.comment-meta
                                    .comment-author.vcard
                                      img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/d5694e2078979e36c783428dbeb29389?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/d5694e2078979e36c783428dbeb29389?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                      span.fn Ahmed Shaaban 
                                      | on 
                                      a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-2224')
                                        time(datetime='2014-01-30T01:23:31-06:00') 2014-01-30 at 1:23 AM 
                                      span.says said:
                                    // .comment-author .vcard
                                  .comment-content
                                    p dude I ran into the same problem on chrome. I was comparing the text came from text area to white space character (normal ascii 32) and guess what ??? !!!
                                      br
                                      | some of the spaces where 32 and others where 160
                                      br
                                      | Thank you for investigating this .. I think you will save so much time and effort for many Devs

                                  // .reply
                                  // #comment-##
                                  // #comment-##
                                  li#li-comment-2234.comment.odd.alt.thread-odd.thread-alt.depth-1
                                    article#comment-2234.comment
                                      footer.comment-meta
                                        .comment-author.vcard
                                          img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/195277453609b61b9e91b57eb063970a?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/195277453609b61b9e91b57eb063970a?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                          span.fn User 
                                          | on 
                                          a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-2234')
                                            time(datetime='2014-02-14T00:48:42-06:00') 2014-02-14 at 12:48 AM 
                                          span.says said:
                                        // .comment-author .vcard
                                      .comment-content
                                        p Thanks Adam.. Useful Post. Saved my time.. 🙂

                                      // .reply
                                      // #comment-##
                                      // #comment-##
                                      li#li-comment-9497.comment.even.thread-even.depth-1
                                        article#comment-9497.comment
                                          footer.comment-meta
                                            .comment-author.vcard
                                              img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/631455d5d4b076f87c2d21d83fddca96?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/631455d5d4b076f87c2d21d83fddca96?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                              span.fn BryanB 
                                              | on 
                                              a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-9497')
                                                time(datetime='2016-02-09T14:13:54-06:00') 2016-02-09 at 2:13 PM 
                                              span.says said:
                                            // .comment-author .vcard
                                          .comment-content
                                            p Thanks for posting this.  (7 years later) I ran into this with Mulesoft (Java based) parsing engine.  Copy and paste out of browser based displays caused this.

                                          // .reply
                                          // #comment-##
                                          // #comment-##
                                          li#li-comment-11175.comment.odd.alt.thread-odd.thread-alt.depth-1
                                            article#comment-11175.comment
                                              footer.comment-meta
                                                .comment-author.vcard
                                                  img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/b0c76547007616c17395639db0037edf?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/b0c76547007616c17395639db0037edf?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                  span.fn
                                                    a.url(href='http://johnnysix.net' rel='external nofollow ugc') Johnny 
                                                  | on 
                                                  a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-11175')
                                                    time(datetime='2016-12-20T04:56:11-06:00') 2016-12-20 at 4:56 AM 
                                                  span.says said:
                                                // .comment-author .vcard
                                              .comment-content
                                                p Same in Excel &#8211; sheets created opened from an HTML source also have this issue. Excel doesn't find/replace programmatically when searching for a space in vba, but will when using the GUI.

                                              // .reply
                                              // #comment-##
                                              // #comment-##
                                              li#li-comment-12773.comment.even.thread-even.depth-1
                                                article#comment-12773.comment
                                                  footer.comment-meta
                                                    .comment-author.vcard
                                                      img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/ffd30f750840ffacafcd361f2ff2d80e?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/ffd30f750840ffacafcd361f2ff2d80e?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                      span.fn
                                                        a.url(href='http://None%20at%20present.%20%20Working%20on%20it...' rel='external nofollow ugc') Leo Orionis 
                                                      | on 
                                                      a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-12773')
                                                        time(datetime='2017-09-25T16:58:53-06:00') 2017-09-25 at 4:58 PM 
                                                      span.says said:
                                                    // .comment-author .vcard
                                                  .comment-content
                                                    p Editing an HTML page originally created with Microsoft Word, I stripped out all the crap and converted all the inserted special characters to real characters, or in some cases to named HTML characters like &eacute; (lower-case e with an acute accent).  When all that was done, there were still a few random &#160; codes, which I deleted because they served no purpose.
                                                    p So I guess it's not just Microsoft Internet Explorer, but Microsoft Word as well.  If you actually NEED an extra space somewhere that won't go away, the HTML characters is &nbsp; "non-breaking space."

                                                  // .reply
                                                  // #comment-##
                                                  ul.children
                                                    li#li-comment-12774.comment.odd.alt.depth-2
                                                      article#comment-12774.comment
                                                        footer.comment-meta
                                                          .comment-author.vcard
                                                            img.avatar.avatar-39.photo(alt='' src='https://secure.gravatar.com/avatar/ffd30f750840ffacafcd361f2ff2d80e?s=39&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/ffd30f750840ffacafcd361f2ff2d80e?s=78&#038;d=mm&#038;r=r 2x' height='39' width='39' loading='lazy')
                                                            span.fn Leo Orionis 
                                                            | on 
                                                            a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-12774')
                                                              time(datetime='2017-09-25T17:05:23-06:00') 2017-09-25 at 5:05 PM 
                                                            span.says said:
                                                          // .comment-author .vcard
                                                        .comment-content
                                                          p Argh!  Didn't expect the HTML codes to be expressed in my comment.  My bad.  It should read "HTML characters like &eacute;" and "the HTML character is &nbsp;".

                                                        // .reply
                                                        // #comment-##
                                                        // #comment-##
                                                        // .children
                                                        // #comment-##
                                                        li#li-comment-12795.comment.even.thread-odd.thread-alt.depth-1
                                                          article#comment-12795.comment
                                                            footer.comment-meta
                                                              .comment-author.vcard
                                                                img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/45d1128be5563f8dcad17417d34c2274?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/45d1128be5563f8dcad17417d34c2274?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                                span.fn Ruth Regan 
                                                                | on 
                                                                a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-12795')
                                                                  time(datetime='2017-09-28T08:37:03-06:00') 2017-09-28 at 8:37 AM 
                                                                span.says said:
                                                              // .comment-author .vcard
                                                            .comment-content
                                                              p I have been trying to pull data from an excel file downloaded off chrome into another excel report using vlookups on names and could not get it to work. Thank you so much for highlighting this difference &#8211; turns out my data is riddled with 160s and 32s making them initially non-comparable. You have saved me many hours of troubleshooting!

                                                            // .reply
                                                            // #comment-##
                                                            // #comment-##
                                                            li#li-comment-14305.comment.odd.alt.thread-even.depth-1
                                                              article#comment-14305.comment
                                                                footer.comment-meta
                                                                  .comment-author.vcard
                                                                    img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/dd5714bebd10969462bf61b10112b256?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/dd5714bebd10969462bf61b10112b256?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                                    span.fn Garret Peterson 
                                                                    | on 
                                                                    a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-14305')
                                                                      time(datetime='2018-02-28T17:38:58-06:00') 2018-02-28 at 5:38 PM 
                                                                    span.says said:
                                                                  // .comment-author .vcard
                                                                .comment-content
                                                                  p FYI I just ran into this in Java. Character.isWhitespace returns false for 160, but Character.isSpaceChar returns true.

                                                                // .reply
                                                                // #comment-##
                                                                // #comment-##
                                                                li#li-comment-15172.comment.even.thread-odd.thread-alt.depth-1
                                                                  article#comment-15172.comment
                                                                    footer.comment-meta
                                                                      .comment-author.vcard
                                                                        img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/c9e8d45610789bca1c557ac86ad41721?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/c9e8d45610789bca1c557ac86ad41721?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                                        span.fn Scott 
                                                                        | on 
                                                                        a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-15172')
                                                                          time(datetime='2018-07-30T03:13:06-06:00') 2018-07-30 at 3:13 AM 
                                                                        span.says said:
                                                                      // .comment-author .vcard
                                                                    .comment-content
                                                                      p So glad I found this article, have spent an age trying to figure out why my Vue component Unit test was failing. Turns out what I thought was a space was&#8230; yes you guessed it a Code 160 non-breaking space.

                                                                    // .reply
                                                                    // #comment-##
                                                                    // #comment-##
                                                                    li#li-comment-15221.comment.odd.alt.thread-even.depth-1
                                                                      article#comment-15221.comment
                                                                        footer.comment-meta
                                                                          .comment-author.vcard
                                                                            img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/89972234c7bc2d0acffeb78aa4728be0?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/89972234c7bc2d0acffeb78aa4728be0?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                                            span.fn Kishan 
                                                                            | on 
                                                                            a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-15221')
                                                                              time(datetime='2018-08-11T02:23:40-06:00') 2018-08-11 at 2:23 AM 
                                                                            span.says said:
                                                                          // .comment-author .vcard
                                                                        .comment-content
                                                                          p Some one else too&#8230;
                                                                          p I have formatting and converting currency rates&#8230; And strangely Hungary (country) uses this character as their number group (hundreds) separator and came across this strange character.

                                                                        // .reply
                                                                        // #comment-##
                                                                        // #comment-##
                                                                        li#li-comment-18971.comment.even.thread-odd.thread-alt.depth-1
                                                                          article#comment-18971.comment
                                                                            footer.comment-meta
                                                                              .comment-author.vcard
                                                                                img.avatar.avatar-68.photo(alt='' src='https://secure.gravatar.com/avatar/26db4e64bd64fc6e56247f90a075412b?s=68&#038;d=mm&#038;r=r' srcset='https://secure.gravatar.com/avatar/26db4e64bd64fc6e56247f90a075412b?s=136&#038;d=mm&#038;r=r 2x' height='68' width='68' loading='lazy')
                                                                                span.fn Neha Kulkarni 
                                                                                | on 
                                                                                a(href='https://wordpress.adamkoch.com/2009/07/25/white-space-and-character-160/#comment-18971')
                                                                                  time(datetime='2019-10-29T22:35:38-06:00') 2019-10-29 at 10:35 PM 
                                                                                span.says said:
                                                                              // .comment-author .vcard
                                                                            .comment-content
                                                                              p Just what I was looking for! Ran into this problem with Javascript. Was comparing the formatted numeric values for different locales with the value entered by the user. This was to implement a search function in my application. Finally was frustrated and checked using the charCodeAt() function. And lo! There it was! Will have to explicitly handle this case now.

                                                                            // .reply
                                                                            // #comment-##
                                                                            // #comment-##

                  // #comments
                  // #content
                  // #primary
                  // #main
                  footer#colophon(role='contentinfo')
                  // #colophon
                  // #page
                  script(type='text/javascript').
                    window.WPCOM_sharing_counts = {"https:\/\/wordpress.adamkoch.com\/2009\/07\/25\/white-space-and-character-160\/":1620};
                  script(type='text/javascript' src='https://wordpress.adamkoch.com/wp-content/plugins/jetpack/_inc/build/photon/photon.min.js?ver=20191001' id='jetpack-photon-js')
                  script(type='text/javascript' src='https://wordpress.adamkoch.com/wp-includes/js/wp-embed.min.js?ver=5.8' id='wp-embed-js')
                  script(type='text/javascript' id='jetpack_related-posts-js-extra').
                    /* <![CDATA[ */
                    var related_posts_js_options = {"post_heading":"h4"};
                    /* ]]> */
                  script(defer type='text/javascript' src='https://wordpress.adamkoch.com/wp-content/plugins/akismet/_inc/form.js?ver=4.1.10' id='akismet-form-js')
                  script(type='text/javascript' id='sharing-js-js-extra').
                    /* <![CDATA[ */
                    var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
                    /* ]]> */
                  script(type='text/javascript' src='https://wordpress.adamkoch.com/wp-content/plugins/jetpack/_inc/build/sharedaddy/sharing.min.js?ver=9.9.1' id='sharing-js-js')
                  script(type='text/javascript' id='sharing-js-js-after').
                    var windowOpen;
                    ( function () {
                    function matches( el, sel ) {
                    return !! (
                    el.matches && el.matches( sel ) ||
                    el.msMatchesSelector && el.msMatchesSelector( sel )
                    );
                    }

                    document.body.addEventListener( 'click', function ( event ) {
                    if ( ! event.target ) {
                    return;
                    }

                    var el;
                    if ( matches( event.target, 'a.share-twitter' ) ) {
                    el = event.target;
                    } else if ( event.target.parentNode && matches( event.target.parentNode, 'a.share-twitter' ) ) {
                    el = event.target.parentNode;
                    }

                    if ( el ) {
                    event.preventDefault();

                    // If there's another sharing window open, close it.
                    if ( typeof windowOpen !== 'undefined' ) {
                    windowOpen.close();
                    }
                    windowOpen = window.open( el.getAttribute( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
                    return false;
                    }
                    } );
                    } )();
                    var windowOpen;
                    ( function () {
                    function matches( el, sel ) {
                    return !! (
                    el.matches && el.matches( sel ) ||
                    el.msMatchesSelector && el.msMatchesSelector( sel )
                    );
                    }

                    document.body.addEventListener( 'click', function ( event ) {
                    if ( ! event.target ) {
                    return;
                    }

                    var el;
                    if ( matches( event.target, 'a.share-facebook' ) ) {
                    el = event.target;
                    } else if ( event.target.parentNode && matches( event.target.parentNode, 'a.share-facebook' ) ) {
                    el = event.target.parentNode;
                    }

                    if ( el ) {
                    event.preventDefault();

                    // If there's another sharing window open, close it.
                    if ( typeof windowOpen !== 'undefined' ) {
                    windowOpen.close();
                    }
                    windowOpen = window.open( el.getAttribute( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
                    return false;
                    }
                    } );
                    } )();
                  script(src='https://stats.wp.com/e-202131.js' defer)
                  script.
                    _stq = window._stq || [];
                    _stq.push([ 'view', {v:'ext',j:'1:9.9.1',blog:'134651188',post:'1620',tz:'-6',srv:'wordpress.adamkoch.com'} ]);
                    _stq.push([ 'clickTrackerInit', '134651188', '1620' ]);
block variables
  - var title = "404 Page Not Found"
html.no-js(lang="en")

  head
    include head
    script(defer).
      window.addEventListener('DOMContentLoaded', (event) => {
        let h1 = document.querySelector('.h1 div');
        const words = h1.innerText.split(' ');
        function wrap(word) {
          const node = document.createElement('span')
          node.classList.add('word')

          const letters = word.split('');
          //- console.log(letters)


          node.innerHTML = letters.map(l => {
            const n = document.createElement('span')
            n.classList.add('letter')
            n.textContent = l
            return n.outerHTML
          }).join(' ')

          return node.outerHTML
        }
        h1.innerHTML = words.map(wrap).join(' ')

      })
    style(type="text/scss").
      body  {
        background-color: black;
        color: white;
        overflow: hidden;
      }
      .container2 {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .h1 span, .h1 span span {
        display: inline-block;
        position: relative;
      }
      .word  {
        margin: auto 10px;
        animation: shake 2s  20 linear 1.9s;
      }
      .letter {
        margin: auto 0px;
        animation: glitch 4s  20 linear 2s;
      }
      .letter:hover {
      }
      .h1 div {
        position: relative
      }
      img {
        transform-origin: bottom;
        animation: spin 5s infinite linear;
        z-index: -100;
      }
      @keyframes spin {
        from {
          transform: rotateZ(0deg) translateY(50%);
        }
        to {
          transform: rotateZ(360deg) translateY(50%);
        }
      }
      @keyframes glitch {
        0% {
          opacity: 1;
          transform: scale(1, 1) translateY(0) translateX(0);
          filter: blur(0) invert(0);
        }
        100% {
          opacity: 0;
          transform: scale(.5, 30) translateY(-15px) translateX(20%);
          filter: blur(1em) invert(100%);
        }

      }

      /*
      @keyframes move2 {
        from {
          transform: translateX(0px)
        }
        to {
          transform: translateX(-10px)
        }
      }
      */

      @keyframes shake {

        1% {
        transform: translateX(-1px);
        }
        2% {
        transform: translateX(1px);
        }
        3% {
        transform: translateX(-1px);
        }
        4% {
        transform: translateX(1px);
        }
        5% {
        transform: translateX(-1px);
        }
        6% {
        transform: translateX(1px);
        }
        7% {
        transform: translateX(-1px);
        }
        8% {
        transform: translateX(1px);
        }
        9% {
        transform: translateX(-1px);
        }
        10% {
        transform: translateX(1px);
        }
        11% {
        transform: translateX(-1px);
        }
        12% {
        transform: translateX(1px);
        }
        13% {
        transform: translateX(-1px);
        }
        14% {
        transform: translateX(1px);
        }
        15% {
        transform: translateX(-1px);
        }
        16% {
        transform: translateX(1px);
        }
        17% {
        transform: translateX(-1px);
        }
        18% {
        transform: translateX(1px);
        }
        19% {
        transform: translateX(-1px);
        }
        20% {
        transform: translateX(1px);
        }
        21% {
        transform: translateX(-1px);
        }
        22% {
        transform: translateX(1px);
        }
        23% {
        transform: translateX(-1px);
        }
        24% {
        transform: translateX(1px);
        }
        25% {
        transform: translateX(-1px);
        }
        26% {
        transform: translateX(1px);
        }
        27% {
        transform: translateX(-1px);
        }
        28% {
        transform: translateX(1px);
        }
        29% {
        transform: translateX(-1px);
        }
        30% {
        transform: translateX(1px);
        }
        31% {
        transform: translateX(-1px);
        }
        32% {
        transform: translateX(1px);
        }
        33% {
        transform: translateX(-1px);
        }
        34% {
        transform: translateX(1px);
        }
        35% {
        transform: translateX(-1px);
        }
        36% {
        transform: translateX(1px);
        }
        37% {
        transform: translateX(-1px);
        }
        38% {
        transform: translateX(1px);
        }
        39% {
        transform: translateX(-1px);
        }
        40% {
        transform: translateX(1px);
        }
        41% {
        transform: translateX(-1px);
        }
        42% {
        transform: translateX(1px);
        }
        43% {
        transform: translateX(-1px);
        }
        44% {
        transform: translateX(1px);
        }
        45% {
        transform: translateX(-1px);
        }
        46% {
        transform: translateX(1px);
        }
        47% {
        transform: translateX(-1px);
        }
        48% {
        transform: translateX(1px);
        }
        49% {
        transform: translateX(-1px);
        }
        50% {
        transform: translateX(1px);
        }
        51% {
        transform: translateX(-1px);
        }
        52% {
        transform: translateX(1px);
        }
        53% {
        transform: translateX(-1px);
        }
        54% {
        transform: translateX(1px);
        }
        55% {
        transform: translateX(-1px);
        }
        56% {
        transform: translateX(1px);
        }
        57% {
        transform: translateX(-1px);
        }
        58% {
        transform: translateX(1px);
        }
        59% {
        transform: translateX(-1px);
        }
        60% {
        transform: translateX(1px);
        }
        61% {
        transform: translateX(-1px);
        }
        62% {
        transform: translateX(1px);
        }
        63% {
        transform: translateX(-1px);
        }
        64% {
        transform: translateX(1px);
        }
        65% {
        transform: translateX(-1px);
        }
        66% {
        transform: translateX(1px);
        }
        67% {
        transform: translateX(-1px);
        }
        68% {
        transform: translateX(1px);
        }
        69% {
        transform: translateX(-1px);
        }
        70% {
        transform: translateX(1px);
        }
        71% {
        transform: translateX(-1px);
        }
        72% {
        transform: translateX(1px);
        }
        73% {
        transform: translateX(-1px);
        }
        74% {
        transform: translateX(1px);
        }
        75% {
        transform: translateX(-1px);
        }
        76% {
        transform: translateX(1px);
        }
        77% {
        transform: translateX(-1px);
        }
        78% {
        transform: translateX(1px);
        }
        79% {
        transform: translateX(-1px);
        }
        80% {
        transform: translateX(1px);
        }
        81% {
        transform: translateX(-1px);
        }
        82% {
        transform: translateX(1px);
        }
        83% {
        transform: translateX(-1px);
        }
        84% {
        transform: translateX(1px);
        }
        85% {
        transform: translateX(-1px);
        }
        86% {
        transform: translateX(1px);
        }
        87% {
        transform: translateX(-1px);
        }
        88% {
        transform: translateX(1px);
        }
        89% {
        transform: translateX(-1px);
        }
        90% {
        transform: translateX(1px);
        }
        91% {
        transform: translateX(-1px);
        }
        92% {
        transform: translateX(1px);
        }
        93% {
        transform: translateX(-1px);
        }
        94% {
        transform: translateX(1px);
        }
        95% {
        transform: translateX(-1px);
        }
        96% {
        transform: translateX(1px);
        }
        97% {
        transform: translateX(-1px);
        }
        98% {
        transform: translateX(1px);
        }
        99% {
        transform: translateX(-1px);
        }
      }
  body
    .container2
      .h1.position-absolute.top-50.start-50.translate-middle
        div 404 Not Found

      img.position-absolute.vh-100(src="img/spiral2.jpg")

    //- include footer

    block body_scripts
extends ../templates/blogpost

append head
  script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
  script(src="/node_modules/jquerykeyframes/dist/jquery.keyframes.min.js")
  script(src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js" integrity="sha256-qXBd/EfAdjOA2FGrGAG+b3YBn2tn5A6bhz+LSgYD96k=" crossorigin="anonymous")

block body

  style.
    #bandwagonLink img {
      vertical-align: top;
    }
    #pugImg {
      display: block;
      position: absolute;
      width: 100px;
      transition-timing-function: ease-in-out;
    }
    #woof1, #woof2 {
      display: block;
      position: absolute;
      visibility: hidden;
    }
    @keyframes woof0 {
      from {
        transform: translate(0, 0);
        opacity: 1;
      }
      to {
        transform: translate(30px, -30px) scale(2.2) rotate(30deg);
        opacity: 0;
      }
    }
    @keyframes woof1 {
      from {
        transform: translate(0, 0);
        opacity: 1;
      }
      to {
        transform: translate(-30px, -30px) scale(2.2) rotate(-30deg);
        opacity: 0;
      }
    }
    @keyframes bark {
      from {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      to {
        transform: scale(1);
      }
    }
    @keyframes bark2 {
      from {
        transform: scale(1);
      }
      25% {
        transform: scale(1.05);
      }
      50% {
        transform: scale(1);
      }
      75% {
        transform: scale(1.05);
      }
      to {
        transform: scale(1);
      }
    }
  .container#pug
    p Lorem ipsum dolor sit amet, consectetur adipiscing elit. In finibus dictum pretium. Nunc vel condimentum est, sed tempus arcu. In commodo egestas eleifend. Phasellus mattis sit amet dolor tincidunt dictum. Aenean at volutpat urna. Fusce dapibus, lacus ut convallis sollicitudin, turpis diam ultrices sem, non vehicula massa leo at nisl. Integer sapien massa, dictum id ultrices eu, scelerisque sed eros. Fusce semper a quam eleifend euismod. Sed aliquam pretium mollis. Maecenas laoreet vulputate enim quis porttitor. Vivamus consequat erat sit amet diam suscipit sollicitudin. Sed vitae quam metus. Ut gravida arcu velit, et ullamcorper elit pretium a. Interdum et malesuada fames ac ante ipsum primis in faucibus.

    p Cras vitae nunc aliquet, eleifend purus a, lobortis tortor. Aliquam euismod dolor non pretium rhoncus. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Pellentesque et egestas lectus. Maecenas in efficitur tellus, ac elementum ipsum. Donec ac nunc suscipit, commodo sem eget, ultrices ante. Fusce rutrum diam vitae quam aliquet, ut sollicitudin augue viverra. Fusce dapibus, lorem eu sodales dignissim, est nisi condimentum sem, vitae lacinia nibh arcu ut magna.

    p Curabitur erat tortor, semper vel nunc eget, pellentesque finibus turpis. Curabitur at quam nec lacus faucibus ultrices. Curabitur id ligula rutrum, molestie turpis nec, molestie tellus. Nulla facilisi. Sed ut vehicula ipsum, in condimentum justo. Morbi hendrerit orci eget enim tristique sodales. Donec sit amet orci eleifend, ornare metus vitae, ornare quam. Quisque mattis erat in elit fermentum porttitor. Nunc laoreet aliquet pharetra.

    p Morbi nec arcu interdum turpis convallis ullamcorper. Suspendisse porta neque elit, quis viverra quam pulvinar vel. In hac habitasse platea dictumst. Nunc sodales felis in quam facilisis elementum. Donec gravida tellus nisi, a sollicitudin dolor sollicitudin lobortis. Proin posuere enim sed euismod aliquet. In id dictum nibh, in blandit massa. Nunc vitae neque ut nunc fermentum sodales. Nunc sed aliquam tortor. Cras nibh lorem, sodales id malesuada id, rhoncus et lacus.

    p Cras nec nibh malesuada, ultricies metus id, scelerisque dolor. Vivamus quis velit vel lorem blandit ullamcorper nec id nisl. Praesent eu enim dapibus, venenatis dui ac, ullamcorper sapien. Proin hendrerit lorem in quam gravida malesuada nec interdum elit. Vivamus malesuada tortor at elit vehicula, sit amet condimentum urna tempor. Nunc eros neque, iaculis euismod est ut, cursus tristique mauris. Duis non urna vel ante egestas faucibus at quis risus. Sed eu libero id enim ornare mattis vitae pellentesque risus. In vel pellentesque tellus. Vestibulum tristique pharetra nunc, vel rhoncus arcu consectetur id.

    img#pugImg(src="/src/img/pug.svg")
    #woof1: h3 Woof!
    #woof2: h3 Woof!

    script.
      $(() => {
        const pugImg = $('#pugImg')
        const woofs = {
          0: $('#woof1'),
          1: $('#woof2')
        }
        var canMove = true;
        let rotateLeft = true;

        const element = pugImg[0]
        let start, previousTimeStamp, x, y;

        let debouncedMovePug = _.debounce(movePug, 10)
        let debouncedUpdateCoordinates = _.debounce(updateCoordinates, 20)

        function updateCoordinates(event) {
          console.debug("inside updateCoordinates")
          if (canMove) {
            x = event.pageX
            y = event.pageY
            movePug()
          }
        }

        function movePug() {
          console.debug("inside movePug")
          if (canMove) {
            console.log(parseInt(pugImg.css("left"), 10) + ',' + parseInt(pugImg.css("top"), 10) + ' -> ' + x + ',' + y);
            let distX = x - parseInt(pugImg.css("left"), 10)
            let distY = y - parseInt(pugImg.css("top"), 10)
            let dist = distX + distY

            let fromTransform = 'translate(0px, 0px)'
            console.log(`fromTransform=${fromTransform}`)
            let toTransform = 'translate(' + distX + 'px, ' + distY + 'px)'
            console.log(`toTransform=${toTransform}`)
            $.keyframe.define({
              name: 'move',
              from: {
                'transform': fromTransform
              },
              to: {
                'transform': toTransform
              }
            });
            pugImg.resetKeyframe();
            console.debug("calling playKeyframe")
            pugImg.playKeyframe(
              'move 1s ease-in-out .1s forwards',
              function() {
                console.log("inside end of move")
                canMove = true;
                pugImg.css("left", x + "px")
                pugImg.css("top", y + "px")
                pugImg.css("animation", "none")

                let barkTwice = Math.floor(Math.random() * 3) > 0;

                pugImg.resetKeyframe();
                if (barkTwice) {
                  pugImg.playKeyframe('bark2 .7s linear 0s forwards')
                }
                else {
                  pugImg.playKeyframe('bark .3s linear 0s forwards')
                }

                rotateLeft = !rotateLeft

                let keyframeIdx = Math.floor(Math.random() * 2)

                function go(woofsIdx, keyframeIdx, x, y) {
                  console.debug("inside go: " + Array.from(arguments).join(', '))

                  woofs[woofsIdx].css("left", (x+15) + "px")
                  woofs[woofsIdx].css("top", (y-15) + "px")

                  woofs[woofsIdx].playKeyframe('woof' + keyframeIdx + ' .9s ease-out 0s forwards')
                }

                go(0, keyframeIdx, x, y)
                if (barkTwice) {
                  setTimeout((function(woofsIdx, keyframeIdx, x, y) { 
                    woofs[1].show().css("visibility", "visible") 
                    go(woofsIdx, keyframeIdx, x, y);
                  }).bind(this, 1, keyframeIdx, x, y), 300)
                }
              }
            );

            canMove = false
          }
        }

        $("#pug")
          .mousemove(function (event) {
            debouncedUpdateCoordinates(event)
          })
          .mouseenter(function (event) {
            canMove = true;
            woofs[0].show().css("visibility", "visible") 
            pugImg.fadeIn(1000, function () {
            });
          })
          .mouseleave(function (event) {
            canMove = false;
            pugImg.fadeOut(1000);
          });

          pugImg.css("top", "100px")
          pugImg.css("left", "-110px")

          woofs[0].css("top", "100px")
          woofs[0].css("left", "-110px")

          woofs[1].css("top", "100px")
          woofs[1].css("left", "-110px")

      });
extends ../templates/blogpost
block variables
  - var title = 'Fade Out On MouseOver Demo'

append head
  link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github.min.css")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js")
  style(type="text/scss").
    code {
      white-space: pre;
    }
    #fadeOutDemo span {
      display: inline-block;
      position: relative;
      opacity: 1;
      &.myFadeOut {
        opacity: 0;
        transition: opacity 2s;
      }

      z-index: 2;
    }
    #scrollHelp {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 1.8em;
      font-size: 1.5em;
      background-color: rgba(255,255,255,.9);
      text-align: center;
      opacity: 0;
      z-index: 1;
      &.myFadeOut {
        z-index: 1;
        opacity: 0;
        transition: opacity 2s, z-index 2s;
      }
      &.myFadeIn {
        z-index: 3;
        opacity: 1;
        transition: opacity .5s, z-index .5s;
      }
    }


block body
  .container#fadeOutDemo
    p Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi mollis accumsan mattis. Aenean eros magna, maximus nec accumsan at, ultrices non velit. Duis tempus tellus a lectus dignissim, consectetur hendrerit urna lacinia. Nam vitae placerat tortor. Phasellus non odio blandit, posuere urna in, pulvinar ligula. Quisque et tincidunt sapien. Proin eget nibh vitae justo pulvinar tincidunt. In hac habitasse platea dictumst. In non accumsan lacus, in consequat nisl. Nunc sodales luctus nunc. Aenean vitae sem consectetur, semper quam a, venenatis sem. Quisque posuere erat at neque bibendum ornare nec a magna. Praesent aliquam commodo luctus. Nulla facilisi.

    p Maecenas pulvinar, nulla a dictum pulvinar, sapien justo dapibus metus, et luctus libero dolor elementum dui. Praesent et libero sed odio dapibus accumsan ac sit amet justo. Vivamus eu massa nec nunc fringilla mollis et sed enim. Nulla facilisi. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam iaculis sollicitudin sodales. Sed gravida vel magna nec mollis. Vestibulum eget nibh magna. Nunc congue vitae purus id mattis. Nunc malesuada non eros in facilisis. Nunc blandit lectus hendrerit blandit facilisis. Quisque vitae dolor lectus. Duis tortor erat, pharetra a nulla ac, varius porttitor sapien. Sed tellus lectus, posuere ut tincidunt sit amet, eleifend id neque. Vestibulum sed commodo nunc, ac maximus nunc.

    p Maecenas sed lorem accumsan, luctus eros eu, tempor dolor. Vestibulum lorem est, bibendum vel vulputate eget, vehicula eu elit. Donec interdum cursus felis, vitae posuere libero. Cras et lobortis velit. Pellentesque in imperdiet justo. Suspendisse dolor mi, aliquet at luctus a, suscipit quis lectus. Etiam dapibus venenatis sem, quis aliquam nisl volutpat vel. Aenean scelerisque dapibus sodales. Vestibulum pretium in pretium diam. Quisque et urna orci.

    p Nulla poscituere sem a enim fringilla, id maximus nisi ornare. Nam ac solliudin turpis, sit amet pretium mi. In hac habitasse platea dictumst. Integer non mi sagittis, viverra elit vel, rutrum mi. Pellentesque at tellus tincidunt, mollis nisi at, luctus neque. Nam quis velit eu risus efficitur efficitur non et risus. Etiam quis purus risus. Nam sagittis at elit a laoreet. Morbi facilisis lectus sed felis hendrerit eleifend. Aenean nisl eros, dapibus vel vulputate nec, porttitor sit amet dui. Nullam lobortis augue quam, ac dapibus tortor pharetra ac. In nec scelerisque ipsum.

    p Etiam vel mi sollicitudin, luctus velit vitae, accumsan velit. Phasellus non feugiat metus, eu dignissim nulla. Cras ex arcu, faucibus ac hendrerit sit amet, volutpat sit amet justo. Donec ligula lacus, iaculis a lobortis et, facilisis vitae metus. Nulla id massa in turpis efficitur ornare. Quisque euismod fringilla lorem a placerat. Praesent non velit orci. Suspendisse vel mi sed tellus tincidunt venenatis. Phasellus eu tempor nisi. Nullam rutrum consequat euismod. Cras ut blandit erat. Sed iaculis, ex nec finibus vehicula, mauris ligula placerat lacus, dictum viverra neque lectus eget dolor. Nullam finibus ligula vitae lacus eleifend, id sagittis leo molestie.

  #scrollHelp Use 2 fingers to scroll

  .container 
    h2 The (Original) Code:
    h3.monospace style(type="text/scss")
    pre: code(class="language-scss").
      #fadeOutDemo span {
        display: inline-block;
        opacity: 1;
        &.myFadeOut {
          opacity: 0;
          transition: opacity 2s;
        }
      }

    h3.monospace script
    pre: code.
      Array
        .from(document
          .getElementById('fadeOutDemo')
          .getElementsByTagName('p'))
        .forEach(function (paragraph) {
          paragraph.innerHTML = paragraph.innerText.split(' ').map(function(word) {
            return '&lt;span&gt;' + word + '&lt;/span&gt;'
          }).join(' ');
          paragraph.addEventListener('mouseover', function(event)  {
            if (event.target.className.length == 0)
              event.target.className = 'myFadeOut'
          })
        })

    script.

      /** Detect free variable `global` from Node.js. */
      var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

      /** Detect free variable `self`. */
      var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

      /** Used as a reference to the global object. */
      var root = freeGlobal || freeSelf || Function('return this')();

      /**
      * Gets the timestamp of the number of milliseconds that have elapsed since
      * the Unix epoch (1 January 1970 00:00:00 UTC).
      *
      * @static
      * @memberOf _
      * @since 2.4.0
      * @category Date
      * @returns {number} Returns the timestamp.
      * @example
      *
      * _.defer(function(stamp) {
      *   console.log(_.now() - stamp);
      * }, _.now());
      * // => Logs the number of milliseconds it took for the deferred invocation.
      */
      var now = function() {
        return root.Date.now();
      };


      /**
      * Checks if `value` is the
      * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
      * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
      *
      * @static
      * @memberOf _
      * @since 0.1.0
      * @category Lang
      * @param {*} value The value to check.
      * @returns {boolean} Returns `true` if `value` is an object, else `false`.
      * @example
      *
      * _.isObject({});
      * // => true
      *
      * _.isObject([1, 2, 3]);
      * // => true
      *
      * _.isObject(_.noop);
      * // => true
      *
      * _.isObject(null);
      * // => false
      */
      function isObject(value) {
        var type = typeof value;
        return value != null && (type == 'object' || type == 'function');
      }
      /**
      * Converts `value` to a number.
      *
      * @static
      * @memberOf _
      * @since 4.0.0
      * @category Lang
      * @param {*} value The value to process.
      * @returns {number} Returns the number.
      * @example
      *
      * _.toNumber(3.2);
      * // => 3.2
      *
      * _.toNumber(Number.MIN_VALUE);
      * // => 5e-324
      *
      * _.toNumber(Infinity);
      * // => Infinity
      *
      * _.toNumber('3.2');
      * // => 3.2
      */
      function toNumber(value) {
        if (typeof value == 'number') {
          return value;
        }
        if (isSymbol(value)) {
          return NAN;
        }
        if (isObject(value)) {
          var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
          value = isObject(other) ? (other + '') : other;
        }
        if (typeof value != 'string') {
          return value === 0 ? value : +value;
        }
        value = baseTrim(value);
        var isBinary = reIsBinary.test(value);
        return (isBinary || reIsOctal.test(value))
          ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
          : (reIsBadHex.test(value) ? NAN : +value);
      }
      /**
      * Creates a debounced function that delays invoking `func` until after `wait`
      * milliseconds have elapsed since the last time the debounced function was
      * invoked. The debounced function comes with a `cancel` method to cancel
      * delayed `func` invocations and a `flush` method to immediately invoke them.
      * Provide `options` to indicate whether `func` should be invoked on the
      * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
      * with the last arguments provided to the debounced function. Subsequent
      * calls to the debounced function return the result of the last `func`
      * invocation.
      *
      * **Note:** If `leading` and `trailing` options are `true`, `func` is
      * invoked on the trailing edge of the timeout only if the debounced function
      * is invoked more than once during the `wait` timeout.
      *
      * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
      * until to the next tick, similar to `setTimeout` with a timeout of `0`.
      *
      * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
      * for details over the differences between `_.debounce` and `_.throttle`.
      *
      * @static
      * @memberOf _
      * @since 0.1.0
      * @category Function
      * @param {Function} func The function to debounce.
      * @param {number} [wait=0] The number of milliseconds to delay.
      * @param {Object} [options={}] The options object.
      * @param {boolean} [options.leading=false]
      *  Specify invoking on the leading edge of the timeout.
      * @param {number} [options.maxWait]
      *  The maximum time `func` is allowed to be delayed before it's invoked.
      * @param {boolean} [options.trailing=true]
      *  Specify invoking on the trailing edge of the timeout.
      * @returns {Function} Returns the new debounced function.
      * @example
      *
      * // Avoid costly calculations while the window size is in flux.
      * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
      *
      * // Invoke `sendMail` when clicked, debouncing subsequent calls.
      * jQuery(element).on('click', _.debounce(sendMail, 300, {
      *   'leading': true,
      *   'trailing': false
      * }));
      *
      * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
      * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
      * var source = new EventSource('/stream');
      * jQuery(source).on('message', debounced);
      *
      * // Cancel the trailing debounced invocation.
      * jQuery(window).on('popstate', debounced.cancel);
      */
      function debounce(func, wait, options) {
        var lastArgs,
          lastThis,
          maxWait,
          result,
          timerId,
          lastCallTime,
          lastInvokeTime = 0,
          leading = false,
          maxing = false,
          trailing = true;

        if (typeof func != 'function') {
          throw new TypeError(FUNC_ERROR_TEXT);
        }
        wait = toNumber(wait) || 0;
        if (isObject(options)) {
          leading = !!options.leading;
          maxing = 'maxWait' in options;
          maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
          trailing = 'trailing' in options ? !!options.trailing : trailing;
        }

        function invokeFunc(time) {
          var args = lastArgs,
            thisArg = lastThis;

          lastArgs = lastThis = undefined;
          lastInvokeTime = time;
          result = func.apply(thisArg, args);
          return result;
        }

        function leadingEdge(time) {
          // Reset any `maxWait` timer.
          lastInvokeTime = time;
          // Start the timer for the trailing edge.
          timerId = setTimeout(timerExpired, wait);
          // Invoke the leading edge.
          return leading ? invokeFunc(time) : result;
        }

        function remainingWait(time) {
          var timeSinceLastCall = time - lastCallTime,
            timeSinceLastInvoke = time - lastInvokeTime,
            timeWaiting = wait - timeSinceLastCall;

          return maxing
            ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
            : timeWaiting;
        }

        function shouldInvoke(time) {
          var timeSinceLastCall = time - lastCallTime,
            timeSinceLastInvoke = time - lastInvokeTime;

          // Either this is the first call, activity has stopped and we're at the
          // trailing edge, the system time has gone backwards and we're treating
          // it as the trailing edge, or we've hit the `maxWait` limit.
          return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
            (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
        }

        function timerExpired() {
          var time = now();
          if (shouldInvoke(time)) {
            return trailingEdge(time);
          }
          // Restart the timer.
          timerId = setTimeout(timerExpired, remainingWait(time));
        }

        function trailingEdge(time) {
          timerId = undefined;

          // Only invoke if we have `lastArgs` which means `func` has been
          // debounced at least once.
          if (trailing && lastArgs) {
            return invokeFunc(time);
          }
          lastArgs = lastThis = undefined;
          return result;
        }

        function cancel() {
          if (timerId !== undefined) {
            clearTimeout(timerId);
          }
          lastInvokeTime = 0;
          lastArgs = lastCallTime = lastThis = timerId = undefined;
        }

        function flush() {
          return timerId === undefined ? result : trailingEdge(now());
        }

        function debounced() {
          var time = now(),
            isInvoking = shouldInvoke(time);

          lastArgs = arguments;
          lastThis = this;
          lastCallTime = time;

          if (isInvoking) {
            if (timerId === undefined) {
              return leadingEdge(lastCallTime);
            }
            if (maxing) {
              // Handle invocations in a tight loop.
              clearTimeout(timerId);
              timerId = setTimeout(timerExpired, wait);
              return invokeFunc(lastCallTime);
            }
          }
          if (timerId === undefined) {
            timerId = setTimeout(timerExpired, wait);
          }
          return result;
        }
        debounced.cancel = cancel;
        debounced.flush = flush;
        return debounced;
      }


      let scrollHelpDisplayed = false;
      const scrollHelp = document.getElementById('scrollHelp')
      let scrollHelpTimeout = 0
      let i = 0
      let startX = 0
      let startY = 0
      let startRadiusX = 0
      let startRadiusY = 0
      let allowed = false
      Array
        .from(document
          .getElementById('fadeOutDemo')
          .getElementsByTagName('p'))
        .forEach(function (paragraph) {
          paragraph.innerHTML = paragraph.innerText.split(' ').map(function(word) {
            return `<span data-word="${word}">${word}</span>`
          }).join(' ');
        function handleGestureStart(event) {
          alert('Not yet supported on iOS')
        }
        function handleTouchStart(evt) {
          evt.preventDefault();
          if (evt.changedTouches.length == 1) {
            let touch = evt.changedTouches[0];
            startX = touch.pageX
            startY = touch.pageY 
            startRadiusX = touch.radiusX
            startRadiusY = touch.radiusY
          }
        }
        function handleTouchEnd(event) {
          scrollHelpDisplayed = false;
        }
        const handleTouchMove = debounce(function (evt) {
          evt.preventDefault();
          evt.stopPropagation();
            let touch = evt.changedTouches[0];

            if (Math.abs(startX - touch.pageX) > startRadiusX) {
              allowed = true
            }
            else {
              allowed = false;
            }

          if (allowed) {
            evt.preventDefault();
            evt.stopPropagation();
            if (!scrollHelpDisplayed) {
              scrollHelpDisplayed = true;

              scrollHelp.classList.add('myFadeIn')
              scrollHelp.classList.remove('myFadeOut')
              //- scrollHelp.addEventListener('animationend', function() {
              //- }, { once: true, passive: false })

              scrollHelpTimeout = setTimeout(function () {
                scrollHelp.classList.add('myFadeOut')
                scrollHelp.classList.remove('myFadeIn')
              }, 2000)
            }

            if (evt.changedTouches.length == 1) {
              console.log(i++)
              //- console.log(event.target)
              //- console.log(event.targetTouches)
              var myLocation = evt.changedTouches[0];
              var realTarget = document.elementFromPoint(myLocation.clientX, myLocation.clientY);

              if (!!realTarget && !realTarget.dataset.faded) {
                //- console.log(event.changedTouches[0])
                realTarget.classList.add('myFadeOut')
                realTarget.dataset.faded = true
                //- let target = event.target
                //- if (isSpan(target)) {
                //- event.target.classList.add('myFadeOut')
                //- }
              }
            }
          }
        }, 5)
        //- let isSpan = _.debounce(function (el) {
        //-   console.dir(el);
        //-   debugger;
        //- }, 5000);

        function handleMouseOver(event) {
          event.target.classList.add('myFadeOut')
        }
        //- function handleMouseMove(event) {
        //-       event.preventDefault();
        //-       event.stopPropagation();
        //- }
        document.addEventListener('gesturestart', handleGestureStart) 
        document.addEventListener('touchstart', handleTouchStart, {passive: false})
        document.addEventListener('touchend', handleTouchEnd)
        document.addEventListener("touchmove", handleTouchMove, {passive: false});
        paragraph.addEventListener('mouseover', handleMouseOver)
        //- paragraph.addEventListener('mousemove', handleMouseMove)
      })

      setTimeout(hljs.highlightAll, 1)extends ../templates/blogpost

append head
  script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
  script(src="/node_modules/jquerykeyframes/dist/jquery.keyframes.min.js")
  script(src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js" integrity="sha256-qXBd/EfAdjOA2FGrGAG+b3YBn2tn5A6bhz+LSgYD96k=" crossorigin="anonymous")

block body

  style.
    #bandwagonLink img {
      vertical-align: top;
    }
    #pugImg {
      display: block;
      position: absolute;
      width: 100px;
      transition-timing-function: ease-in-out;
    }
    #woof1, #woof2 {
      display: block;
      position: absolute;
      visibility: hidden;
    }
    #parcel3 {
      position: relative;
    }
    #parcel span, 
    #parcel2 span, 
    #parcel3 span {
      display: inline-block;
    }
    #parcel span.myFadeOut,
    #parcel2 span.myFadeOut {
      animation: myFadeOut 2s forwards;
    }
    #parcel2 span.addBorder {
      border: 1px solid red;
    }
    #parcel3 span {
      transform: translateX(0) rotate(0deg);
      transform-origin: right;
    }
    #parcel3 span.shake {
      animation: shake .3s normal both linear;
      animation-iteration-count: var(--shakes);
      animation-delay: 0s;
    }
    #parcel3 span.moveToBox {
      animation: moveOffScreen forwards linear;
      animation-duration: var(--wind-speed);
      animation-delay: 0s;
    }
    .redBorder {
      border: 1px solid red;
    }
    @keyframes woof0 {
      from {
        transform: translate(0, 0);
        opacity: 1;
      }
      to {
        transform: translate(30px, -30px) scale(2.2) rotate(30deg);
        opacity: 0;
      }
    }
    @keyframes woof1 {
      from {
        transform: translate(0, 0);
        opacity: 1;
      }
      to {
        transform: translate(-30px, -30px) scale(2.2) rotate(-30deg);
        opacity: 0;
      }
    }
    @keyframes bark {
      from {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      to {
        transform: scale(1);
      }
    }
    @keyframes bark2 {
      from {
        transform: scale(1);
      }
      25% {
        transform: scale(1.05);
      }
      50% {
        transform: scale(1);
      }
      75% {
        transform: scale(1.05);
      }
      to {
        transform: scale(1);
      }
    }
    @keyframes myFadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }
    @keyframes shake {
      from {
        transform: rotate(0deg);
      }
      25% {
        transform: rotate(var(--negative-rotation));
      }
      50% {
        transform: rotate(var(--random-rotation));
      }
      75% {
        transform: rotate(var(--positive-rotation));
      }
      to {
        transform: rotate(0deg);
      }
    }
    @keyframes fadeOutAtLast {
      from {
        opacity: 1;
      }
      99% {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }
    @keyframes moveOffScreen {
      from {
        transform: rotate(0deg) translateX(0);
      }
      5% {
        transform: rotate(var(--negative-rotation)) translateX(calc(var(--distance) * .05));
      }
      20% {
        transform: rotate(var(--positive-rotation)) translateX(calc(var(--distance) * .2));
      }
      50% {
        transform: rotate(0deg) translateX(calc(var(--distance) * .5));
      }
      to {
        transform: rotate(0deg) translateX(var(--distance));
      }
    }
  .container
    h1 Moving off Wordpress and on to Netlify
    p Even when I told myself I was going to write this post, I got sidetracked adding animations and adding prefetch logic. By the time I finish this, it will be Friday, August 26.
    p I started down the path of converting my Wordpress site to a static site because I started getting (or at least started getting notified of) &quot;hackers&quot; scanning my site for Wordpress vulnerabilities. 
      | I installed a plugin called 
      a(href="https://www.wordfence.com/") Wordfence
      | , which I have to say, is an awesome app for being free. It could block IPs that were hitting the site and you could configure it with how many hits before blocking or if they hit a specific URL known for a vulnerability. 
      | I don't know if there was an upgrade but I started seeing my site getting hit and I wanted to jump on the static site generator bandwagon before it was, you know, gone.
      a#bandwagonLink(title='Influx, CC BY-SA 4.0 &lt;https://creativecommons.org/licenses/by-sa/4.0&gt;, via Wikimedia Commons' href='https://commons.wikimedia.org/wiki/File:Bandwagon.jpg')
        img(alt='Bandwagon' src='/src/img/bandwagon.png')
    #pug
      p I've used Parcel before and love it because it supports 
        a(href="https://pugjs.org/api/getting-started.html") Pug
        |  out of the box. Pug is my favorite HTML template engine. (TODO: insert link to page about Pug.) Well, it's not as if there are hundreds or something. But I like it a lot better than Markdown. Yes, Pug is a <em>little</em> more verbose, but it makes up for it by allowing you to do more than a handful of things! The limitations of Markdown make me wonder why so many people like it. Anyway... I ❤️ Pug and tools that support Pug.
      img#pugImg(src="/src/img/pug.svg")
      #woof1: h3 Woof!
      #woof2: h3 Woof!

    a(href="https://html2pug.vercel.app/") Tool for taking some HTML and converting it to Pug

    #parcel
      p Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vel massa non enim rhoncus blandit. Nullam tristique diam orci. Pellentesque hendrerit arcu eros. Curabitur bibendum eros vitae tortor fringilla, nec cursus dolor euismod. Mauris quam elit, dignissim vel iaculis id, maximus feugiat enim. Morbi fermentum congue tortor in rhoncus. Cras vehicula consectetur fringilla. Donec venenatis sit amet tellus in iaculis. Maecenas vitae urna leo. Nulla tempor vulputate purus quis lobortis. Pellentesque mattis, orci cursus viverra mattis, ex mi vehicula risus, quis pretium ante orci sit amet nisl.

    #parcel2
      p In hac habitasse platea dictumst. Vestibulum euismod nibh erat, vitae mattis justo vestibulum eu. Fusce eleifend nisi leo, ac gravida est varius vitae. Duis ultricies, neque quis fermentum scelerisque, velit nulla feugiat tortor, eget pharetra dolor tortor in eros. Aenean sagittis sodales accumsan. Donec fermentum eros mauris, id mattis diam vulputate nec. Sed maximus vel turpis nec semper. Praesent pellentesque vitae felis at lobortis. Donec accumsan felis ut dolor lacinia iaculis. Vestibulum aliquam orci hendrerit est pretium feugiat.

    #parcel3
      p Aliquam quis massa sed dui aliquam fermentum. Proin massa orci, tristique eget varius vulputate, pretium mollis mauris. Praesent interdum congue nisl, at eleifend ligula volutpat ac. Phasellus scelerisque felis efficitur mattis egestas. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vivamus non diam nisi. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nunc iaculis aliquet felis. Curabitur placerat lorem mauris, tempus tempor magna placerat vitae.

    #nearest
      p Maecenas pulvinar, nulla a dictum pulvinar, sapien justo dapibus metus, et luctus libero dolor elementum dui. Praesent et libero sed odio dapibus accumsan ac sit amet justo. Vivamus eu massa nec nunc fringilla mollis et sed enim. Nulla facilisi. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam iaculis sollicitudin sodales. Sed gravida vel magna nec mollis. Vestibulum eget nibh magna. Nunc congue vitae purus id mattis. Nunc malesuada non eros in facilisis. Nunc blandit lectus hendrerit blandit facilisis. Quisque vitae dolor lectus. Duis tortor erat, pharetra a nulla ac, varius porttitor sapien. Sed tellus lectus, posuere ut tincidunt sit amet, eleifend id neque. Vestibulum sed commodo nunc, ac maximus nunc.



    script.
      function a() {
        const parcelEl = document.getElementById('parcel')

        const words = parcelEl.innerText.split(' ');
        function wrap(word) {

          const node = document.createElement('span')
          node.textContent = word

          return node.outerHTML
        }
        parcelEl.innerHTML = words.map(wrap).join(' ')

        $(parcelEl).find("span").one('mouseenter', function(event) {
          $(this).addClass('myFadeOut')
        });
      }
      //a()

    script.
      function b() {
        const parcelEl2 = document.getElementById('parcel2')

        const words = parcelEl2.innerText.split(' ');
        function wrap(word) {

          const node = document.createElement('span')
          node.textContent = word

          return node.outerHTML
        }
        parcelEl2.innerHTML = words.map(wrap).join(' ')

        let randMultiplier = 1000
        $(parcelEl2).find("span").one('mouseenter', function repeat(event, el) {
          const that = $(el || this)
            that.addClass('myFadeOut')
            setTimeout(function () {
              that.prev().addBack().next().addBack().not('.myFadeOut').off('mouseenter').addClass('myFadeOut').one('animationstart', function (event) {
                repeat(event, this)
              })

              if ($(parcelEl2).find("span").not('.myFadeOut').length == 0) {
                console.log("all dead, I mean done")
              }
            }, Math.random() * randMultiplier)
            randMultiplier -= 10
        })
      }
      //b()

    script.
      function c() {
        let timeout = 500;
        function styleAndAnimate(el) {
          el.style.setProperty('--shakes', _.random(1, 4));
          el.style.setProperty('--positive-rotation', _.random(8, 20) + 'deg');
          el.style.setProperty('--negative-rotation', '-' + _.random(8, 20) + 'deg');
          el.style.setProperty('--random-rotation', _.random(-8, 8) + 'deg');
          el.style.setProperty('--distance', '-' + document.body.offsetWidth + 'px');
          el.style.setProperty('--wind-speed', _.random(1, 3, true) + 's');

          $(el).addClass('shake').one('animationend', function () {
            $(this).removeClass('shake').addClass('moveToBox')
          })
        }
        function handleRandomElement(elements) {
          let sample = _.sample(elements)

          styleAndAnimate(sample)

          if (elements.length > 1) {
            setTimeout(function () { handleRandomElement(_.without(elements, sample)) }, timeout--)
          }
            //- try {
            //-   let listOfElements = that.siblings().not('.moveToBox').clone();
            //-   console.log(listOfElements.length)
            //-   console.log(listOfElements)
            //-   console.log(sample)
            //-   $(sample).addClass('moveToBox').one('animationstart', function (event) {
            //-       console.log("+")
            //-       debouncedRepeat(event, event.currentTarget)
            //-     })
            //- } catch (e) {
            //-   console.debug("error")
            //-   debouncedRepeat(event, that)
            //- }

        }

        //- const debouncedRepeat = _.debounce(repeat)

        const parcelEl3 = document.getElementById('parcel3')

        const words = parcelEl3.innerText.split(' ');

        function wrap(word) {
          const node = document.createElement('span')
          node.textContent = word
          return node.outerHTML
        }

        parcelEl3.innerHTML = words.map(wrap).join(' ')

        const originalElements = $(parcelEl3)
          .css("height", $(parcelEl3).height())
          .find("span")
          .each(function (idx, el) {
            $(el).css("left", $(el).position().left)
            $(el).css("top", $(el).position().top)
          })
          .css("position", "absolute")
          .one('mouseenter', function(event) {
            let remaining = _.without(originalElements, this)

            styleAndAnimate(this)

            handleRandomElement(remaining)
          })
          .get()
      }
      //c()

    script.
      function d() {
        let timeout = 500;
        function styleAndAnimate(el) {
          el.style.setProperty('--shakes', _.random(1, 4));
          el.style.setProperty('--positive-rotation', _.random(8, 20) + 'deg');
          el.style.setProperty('--negative-rotation', '-' + _.random(8, 20) + 'deg');
          el.style.setProperty('--random-rotation', _.random(-8, 8) + 'deg');
          el.style.setProperty('--distance', '-' + document.body.offsetWidth + 'px');
          el.style.setProperty('--wind-speed', _.random(1, 3, true) + 's');

          $(el).addClass('shake').one('animationend', function () {
            $(this).removeClass('shake').addClass('moveToBox')
          })
        }

        //- const debouncedRepeat = _.debounce(repeat)

        const container = document.getElementById('nearest')

        const words = container.innerText.split(' ');

        function wrap(word) {
          const node = document.createElement('span')
          node.textContent = word
          return node.outerHTML
        }

        container.innerHTML = words.map(wrap).join(' ')

        window.points = [[],[],[],[],[],[],[],[],[],[]]

        function recordCoordinates(element, coordinates) {
          //- for(loc in coordinates) {
          //-   //- console.log(`${loc}=${JSON.stringify(coordinates[loc])}`);
          //-   let obj = {
          //-     x: coordinates[loc].pageX,
          //-     y: coordinates[loc].pageY,
          //-     element: element,
          //-     loc: loc
          //-   }
          //-   points.push(obj)
          //- }
          //- let i = 0
          //- points.sort((a, b) => {

          //-   if (a.x - b.x < 0) {
          //-     return -1
          //-   }
          //-   else if (a.x - b.x > 0) {
          //-     return 1
          //-   }

          //-   if (a.y - b.y < 0) {
          //-     return -1
          //-   }
          //-   else if (a.y - b.y > 0) {
          //-     return 1
          //-   }
          //-   //- console.log(a, b)
          //-   return 0
          //- });
          for(loc in coordinates) {
            let xIndex = coordinates[loc].pageX.toString().slice(0, 1)
            //- console.log(`${loc}=${JSON.stringify(coordinates[loc])}`);
            let obj = {
              x: coordinates[loc].pageX,
              y: coordinates[loc].pageY,
              element: element,
              loc: loc
            }
            points[xIndex].push(obj)
          }

          for (let i = 0; i < 10; i++) {
            points[i].sort((a, b) => {

              if (a.x - b.x < 0) {
                return -1
              }
              else if (a.x - b.x > 0) {
                return 1
              }

              if (a.y - b.y < 0) {
                return -1
              }
              else if (a.y - b.y > 0) {
                return 1
              }
              //- console.log(a, b)
              return 0
            });
          }
        }

        const originalElements = $(container)
          .css("height", $(container).height())
          .find("span")
          .each(function (idx, el) {
            $(el).css("left", $(el).position().left)
            $(el).css("top", $(el).position().top)

            let left = $(this).offset().left,
              top = $(this).offset().top,
              width = $(this).width(),
              height = $(this).height()

            let coordinates = {
              'top-left': {
                pageX: left,
                pageY: top
              },
              'top-right': {
                pageX: left + width,
                pageY: top
              },
              'bottom-left': {
                pageX: left,
                pageY: top + height
              },
              'bottom-right': {
                pageX: left + width,
                pageY: top + height
              }
            }

            jQuery.data(this, 'coordinates', coordinates)

            recordCoordinates(this, coordinates)
          })
          //- .css("position", "absolute")
          .one('mouseenter', function(event) {
            //- let remaining = _.without(originalElements, this)

            //- styleAndAnimate(this)

            //- handleRandomElement(remaining)

            //- findClosest(this, originalElements)
            const coordinates = jQuery.data(this, 'coordinates')
            //- console.log(JSON.stringify(coordinates))
            let coordIdx = coordinates['top-left']['pageX'].toString().slice(0, 1)
            //- console.log(`coordIx = ${coordIdx}`)
            const arr = _.filter(_.concat(window.points[coordIdx - 1], window.points[coordIdx], window.points[coordIdx + 1]),
              function(closePoints) {
                if (closePoints) {
                  console.log(1, coordinates['top-left']['pageX'])
                  let dist = 1000
                  try {
                    let distTopLeft, distTopRight, distBottomLeft, distBottomRight
                    console.log(2, closePoints.x)
                    distTopLeft = Math.abs(coordinates['top-left']['pageX'] -  parseFloat(closePoints.x)) + 
                      Math.abs(coordinates['top-left']['pageY'] -  parseFloat(closePoints.y))
                    distTopRight = Math.abs(coordinates['top-right']['pageX'] -  parseFloat(closePoints.x)) + 
                      Math.abs(coordinates['top-right']['pageY'] -  parseFloat(closePoints.y))
                    distBottomLeft = Math.abs(coordinates['bottom-left']['pageX'] -  parseFloat(closePoints.x)) + 
                      Math.abs(coordinates['bottom-left']['pageY'] -  parseFloat(closePoints.y))
                    distBottomRight = Math.abs(coordinates['bottom-right']['pageX'] -  parseFloat(closePoints.x)) + 
                      Math.abs(coordinates['bottom-right']['pageY'] -  parseFloat(closePoints.y))
                    dist = Math.min(distTopLeft, distTopRight, distBottomLeft, distBottomRight)
                  } catch (e) {
                    console.error(e.message + ': ' + closePoints);
                  }
                  console.log(3, dist)
                  //- closePoints.dist = dist
                  return dist < 100
                }
                return false
              }
            );



            //- const startingPoints = _.filter(window.points, function(points2) {
            //-     //- console.log(point['top-left'])

            //-     //- for(point in points2) {
            //-     //-   console.log(point)
            //-     //- }
            //-     //- console.log("my god! ", coordinates['top-left']['pageX'])
            //-     return points2[coordinates['top-left']['pageX']]
            //- })

            let lineHeight = $('#nearest span').css('line-height')
            console.log(lineHeight);
            console.log(`found ${arr.length} points`)

            console.log(`arr=${JSON.stringify(arr)}`)
            for(var i = 0; i < arr.length; i++) {
              let point = arr[i]
              $(point.element).addClass('redBorder')

              //- let p = document.createElement('div')
              //- p.style.left = point.x
              //- p.style.top = point.y
              //- p.style.position = 'absolute'
              //- p.innerHTML = '&middot;'
              //- p.style.padding = 0
              //- p.style.margin = 0
              //- p.style.color = 'red'
              //- p.style['font-size'] = '20px'
              //- //- document.body.appendChild(p)
              //- var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
              //- var path1 = document.createElementNS("http://www.w3.org/2000/svg", 'path');
              //- var path2 = document.createElementNS("http://www.w3.org/2000/svg", 'path');

              //- var circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");


              //- svg.setAttribute("aria-hidden","true");
              //- svg.setAttribute('viewbox', point.x + ' ' + point.y + ' 50 50');
              //- svg.setAttribute('width', '50px');
              //- svg.setAttribute('height', '50px');

              //- svg.style.left = point.x
              //- console.log(p.style['line-height'])
              //- svg.style.top = point.y - (parseInt(lineHeight) / 2)
              //- svg.style.position = 'absolute'

              //- path1.setAttribute('d', 'M0 0h24v24H0z');
              //- path1.setAttribute('fill', 'none');

              //- path2.setAttribute('d', 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z');
              //- path2.setAttribute('fill', '#2962ff');


              //- circle.setAttribute('cx', '10');
              //- circle.setAttribute('cy', '10');
              //- circle.setAttribute('r', '4');
              //- circle.setAttribute('fill', 'red');


              //- //- svg.appendChild(path1);
              //- //- svg.appendChild(path2);
              //- svg.appendChild(circle);
              //- document.body.appendChild(svg);
            }

          })
          .get()
      }
      d()


    script(type="module").
      $(() => {
        $("#bandwagonLink").one("mouseenter", function() {
          $(this).fadeOut(2000);
        });


        const pugImg = $('#pugImg')
        const woofs = {
          0: $('#woof1'),
          1: $('#woof2')
        }
        var canMove = true;
        let rotateLeft = true;

        const element = pugImg[0]
        let start, previousTimeStamp, x, y;

        let debouncedMovePug = _.debounce(movePug, 10)
        let debouncedUpdateCoordinates = _.debounce(updateCoordinates, 30)

        function updateCoordinates(event) {
          if (process.env.NODE_ENV !== 'production') console.debug("inside updateCoordinates")
          if (canMove) {
            x = event.pageX
            y = event.pageY
            movePug()
          }
        }

        function movePug() {
          console.log(process)
          if (process.env.NODE_ENV !== 'production') console.debug("inside movePug")
          if (canMove) {
            if (process.env.NODE_ENV !== 'production') console.log(parseInt(pugImg.css("left"), 10) + ',' + parseInt(pugImg.css("top"), 10) + ' -> ' + x + ',' + y);
            let distX = x - parseInt(pugImg.css("left"), 10)
            let distY = y - parseInt(pugImg.css("top"), 10)
            let dist = distX + distY

            let fromTransform = 'translate(0px, 0px)'
            if (process.env.NODE_ENV !== 'production') console.log(`fromTransform=${fromTransform}`)
            let toTransform = 'translate(' + distX + 'px, ' + distY + 'px)'
            if (process.env.NODE_ENV !== 'production') console.log(`toTransform=${toTransform}`)
            $.keyframe.define({
              name: 'move',
              from: {
                'transform': fromTransform
              },
              to: {
                'transform': toTransform
              }
            });
            pugImg.resetKeyframe();
            if (process.env.NODE_ENV !== 'production') console.debug("calling playKeyframe")
            pugImg.playKeyframe(
              'move 1s ease-in-out .1s forwards',
              function() {
                if (process.env.NODE_ENV !== 'production') console.log("inside end of move")
                canMove = true;
                pugImg.css("left", x + "px")
                pugImg.css("top", y + "px")
                pugImg.css("animation", "none")

                let barkTwice = Math.floor(Math.random() * 3) > 0;

                pugImg.resetKeyframe();
                if (barkTwice) {
                  pugImg.playKeyframe('bark2 .7s linear 0s forwards')
                }
                else {
                  pugImg.playKeyframe('bark .3s linear 0s forwards')
                }

                rotateLeft = !rotateLeft

                let keyframeIdx = Math.floor(Math.random() * 2)
                const currentX = x
                const currentY = y
                function go(i, keyframeIdx) {
                  if (process.env.NODE_ENV !== 'production') console.debug("inside go")
                  woofs[i].css("left", (currentX+15) + "px")
                  woofs[i].css("top", (currentY-15) + "px")

                  woofs[i].playKeyframe('woof' + keyframeIdx + ' .9s ease-out 0s forwards')
                }

                go(0, keyframeIdx)
                if (barkTwice) {
                  setTimeout(function () {
                    woofs[1].show().css("visibility", "visible") 
                    go(1, keyframeIdx)
                  }, 300)
                }

              }
            );

            canMove = false
            //- console.log(dist)

            //- if (start === undefined)
            //-   start = timestamp;
            //- const elapsed = timestamp - start;

            //- //- if (previousTimeStamp !== timestamp) {
            //-   // Math.min() is used here to make sure the element stops at exactly 200px
            //-   //- const count = Math.min(0.1 * elapsed, 200);
            //-   element.style.animation = 'move .5s';
            //-   //- element.style.transform = 'translate(' + distX + 'px, ' + distY + 'px)';
            //- //- }

            //- //- if (elapsed < 2000) { // Stop the animation after 2 seconds
            //- if (canMove) {
            //-   previousTimeStamp = timestamp
            //-   //- window.requestAnimationFrame(movePug);
            //- }

            //- pugImg.animate( {
            //-   left: event.pageX,
            //-   top: event.pageY
            //- }, {
            //-   duration: 1000 - (dist ^ 2),
            //-   done: function() {
            //-     canMove = true;
            //-   }
            //- })
          }
        }

        $("#pug")
          .mousemove(function (event) {
            debouncedUpdateCoordinates(event)
          })
          .mouseenter(function (event) {
            canMove = true;
            woofs[0].show().css("visibility", "visible") 
            //- window.requestAnimationFrame(movePug);
            pugImg.fadeIn(1000, function () {
            });
          })
          .mouseleave(function (event) {
            canMove = false;
            pugImg.fadeOut(1000);
          });

          pugImg.css("top", "100px")
          pugImg.css("left", "-110px")

          woofs[0].css("top", "100px")
          woofs[0].css("left", "-110px")

          woofs[1].css("top", "100px")
          woofs[1].css("left", "-110px")

      });extends ../templates/blogpost

append head
  script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
  script(src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js" integrity="sha256-qXBd/EfAdjOA2FGrGAG+b3YBn2tn5A6bhz+LSgYD96k=" crossorigin="anonymous")

block body

  style.
    #infection span {
      display: inline-block;
    }
    #infection span.myFadeOut {
      animation: myFadeOut 2s forwards;
    }
    #infection span.addBorder {
      border: 1px solid red;
    }

    @keyframes myFadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }
  .container#infection
    p Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vel massa non enim rhoncus blandit. Nullam tristique diam orci. Pellentesque hendrerit arcu eros. Curabitur bibendum eros vitae tortor fringilla, nec cursus dolor euismod. Mauris quam elit, dignissim vel iaculis id, maximus feugiat enim. Morbi fermentum congue tortor in rhoncus. Cras vehicula consectetur fringilla. Donec venenatis sit amet tellus in iaculis. Maecenas vitae urna leo. Nulla tempor vulputate purus quis lobortis. Pellentesque mattis, orci cursus viverra mattis, ex mi vehicula risus, quis pretium ante orci sit amet nisl.

    p In hac habitasse platea dictumst. Vestibulum euismod nibh erat, vitae mattis justo vestibulum eu. Fusce eleifend nisi leo, ac gravida est varius vitae. Duis ultricies, neque quis fermentum scelerisque, velit nulla feugiat tortor, eget pharetra dolor tortor in eros. Aenean sagittis sodales accumsan. Donec fermentum eros mauris, id mattis diam vulputate nec. Sed maximus vel turpis nec semper. Praesent pellentesque vitae felis at lobortis. Donec accumsan felis ut dolor lacinia iaculis. Vestibulum aliquam orci hendrerit est pretium feugiat.

    p Aliquam quis massa sed dui aliquam fermentum. Proin massa orci, tristique eget varius vulputate, pretium mollis mauris. Praesent interdum congue nisl, at eleifend ligula volutpat ac. Phasellus scelerisque felis efficitur mattis egestas. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vivamus non diam nisi. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nunc iaculis aliquet felis. Curabitur placerat lorem mauris, tempus tempor magna placerat vitae.

    p Maecenas pulvinar, nulla a dictum pulvinar, sapien justo dapibus metus, et luctus libero dolor elementum dui. Praesent et libero sed odio dapibus accumsan ac sit amet justo. Vivamus eu massa nec nunc fringilla mollis et sed enim. Nulla facilisi. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam iaculis sollicitudin sodales. Sed gravida vel magna nec mollis. Vestibulum eget nibh magna. Nunc congue vitae purus id mattis. Nunc malesuada non eros in facilisis. Nunc blandit lectus hendrerit blandit facilisis. Quisque vitae dolor lectus. Duis tortor erat, pharetra a nulla ac, varius porttitor sapien. Sed tellus lectus, posuere ut tincidunt sit amet, eleifend id neque. Vestibulum sed commodo nunc, ac maximus nunc.


    script.
      function b() {
        function wrap(word) {
          const node = document.createElement('span')
          node.textContent = word
          return node.outerHTML
        }

        const container = document.getElementById('infection')
        const paragraphs = container.getElementsByTagName('p')

        for (var idx = 0; idx < paragraphs.length; idx++) {
          const words = paragraphs[idx].innerText.split(' ');
          paragraphs[idx].innerHTML = words.map(wrap).join(' ')
        }

        $(container).find("span").one('mouseenter', function repeat(event, el) {
          const that = $(el || this)
          that.addClass('myFadeOut')
          let sleeping =  _.random(500, 2000)
          setTimeout(function () {
            that.prev().addBack().next().addBack().not('.myFadeOut').off('mouseenter').addClass('myFadeOut').one('animationstart', function (event) {
              repeat(event, this)
            })

            if ($(container).find("span").not('.myFadeOut').length == 0) {
              console.log("all dead, I mean done")
            }
          }, sleeping)
        })
      }
      b()
extends ../templates/blogpost

mixin sensitive()
  - 
    var i
    if (global.hasOwnProperty('i')) {
      i = global.i
    } else {
      global.i = 0;
      i = 0;
    }
    var id = "input" + i;
    i++
    global.i = i

  input(id=id type="checkbox")
  label(for=id class="sensitive")
    block

append head
  script(type="module").
    import hljs from 'highlight.js/lib/core';
    import css from 'highlight.js/lib/languages/css';
    hljs.registerLanguage('css', css);

    window.hljs = hljs

  style.
    :root {
      --transition: filter .4s ease-in-out;  
    }

    input[type="checkbox"] {
      display: none;
    }

    input[type="checkbox"] + .sensitive {
      display: block;
      transition: var(--transition);
    }

    input[type="checkbox"]:not(:checked) + .sensitive {
      filter: blur(.3em);
      opacity: .5;
    }

    input[type="checkbox"]:checked + .sensitive {
      filter: blur(0);
      opacity: 1;
    }

block body
  h1 Blur Sensitive Information
  p This is in no way secure and shouldn't be used for anything but for hiding text from the casual passerby.
  p Click on the text to reveal and re-hide.

  +sensitive
    p Lorem ipsum dolor sit amet, consectetur adipiscing elit. In finibus dictum pretium. Nunc vel condimentum est, sed tempus arcu. In commodo egestas eleifend. Phasellus mattis sit amet dolor tincidunt dictum. Aenean at volutpat urna. Fusce dapibus, lacus ut convallis sollicitudin, turpis diam ultrices sem, non vehicula massa leo at nisl. Integer sapien massa, dictum id ultrices eu, scelerisque sed eros. Fusce semper a quam eleifend euismod. Sed aliquam pretium mollis. Maecenas laoreet vulputate enim quis porttitor. Vivamus consequat erat sit amet diam suscipit sollicitudin. Sed vitae quam metus. Ut gravida arcu velit, et ullamcorper elit pretium a. Interdum et malesuada fames ac ante ipsum primis in faucibus.

  +sensitive
    p Cras vitae nunc aliquet, eleifend purus a, lobortis tortor. Aliquam euismod dolor non pretium rhoncus. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Pellentesque et egestas lectus. Maecenas in efficitur tellus, ac elementum ipsum. Donec ac nunc suscipit, commodo sem eget, ultrices ante. Fusce rutrum diam vitae quam aliquet, ut sollicitudin augue viverra. Fusce dapibus, lorem eu sodales dignissim, est nisi condimentum sem, vitae lacinia nibh arcu ut magna.

  +sensitive
    p Curabitur erat tortor, semper vel nunc eget, pellentesque finibus turpis. Curabitur at quam nec lacus faucibus ultrices. Curabitur id ligula rutrum, molestie turpis nec, molestie tellus. Nulla facilisi. Sed ut vehicula ipsum, in condimentum justo. Morbi hendrerit orci eget enim tristique sodales. Donec sit amet orci eleifend, ornare metus vitae, ornare quam. Quisque mattis erat in elit fermentum porttitor. Nunc laoreet aliquet pharetra.

  +sensitive
    p Morbi nec arcu interdum turpis convallis ullamcorper. Suspendisse porta neque elit, quis viverra quam pulvinar vel. In hac habitasse platea dictumst. Nunc sodales felis in quam facilisis elementum. Donec gravida tellus nisi, a sollicitudin dolor sollicitudin lobortis. Proin posuere enim sed euismod aliquet. In id dictum nibh, in blandit massa. Nunc vitae neque ut nunc fermentum sodales. Nunc sed aliquam tortor. Cras nibh lorem, sodales id malesuada id, rhoncus et lacus.

  +sensitive
    p Cras nec nibh malesuada, ultricies metus id, scelerisque dolor. Vivamus quis velit vel lorem blandit ullamcorper nec id nisl. Praesent eu enim dapibus, venenatis dui ac, ullamcorper sapien. Proin hendrerit lorem in quam gravida malesuada nec interdum elit. Vivamus malesuada tortor at elit vehicula, sit amet condimentum urna tempor. Nunc eros neque, iaculis euismod est ut, cursus tristique mauris. Duis non urna vel ante egestas faucibus at quis risus. Sed eu libero id enim ornare mattis vitae pellentesque risus. In vel pellentesque tellus. Vestibulum tristique pharetra nunc, vel rhoncus arcu consectetur id.

  h2 Source Code
  h3 CSS
  pre: code.language-css.
    :root {
      --transition:  filter .4s ease-in-out;  
    }

    input[type="checkbox"] {
      display: none;
    }

    input[type="checkbox"] + .sensitive {
      display: block;
      transition: var(--transition);
    }

    input[type="checkbox"]:not(:checked) + .sensitive {
      filter: blur(.3em);
      opacity: .5;
    }

    input[type="checkbox"]:checked + .sensitive {
      filter: blur(0);
      opacity: 1;
    }


  h3 This is Pug code!
  p And sadly highlightjs doesn't have any love for Pug, yet.
  pre: code.
    mixin sensitive()
      - 
        var i
        if (global.hasOwnProperty('i')) {
          i = global.i
        } else {
          global.i = 0;
          i = 0;
        }
        var id = "input" + i;
        i++
        global.i = i

      input(id=id type="checkbox")
      label(for=id class="sensitive")
        block


  script.
    document.querySelectorAll('pre code').forEach((el) => {
      window.hljs.highlightElement(el);
    });extends ../templates/blogpost

append head
  script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
  script(src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js" integrity="sha256-qXBd/EfAdjOA2FGrGAG+b3YBn2tn5A6bhz+LSgYD96k=" crossorigin="anonymous")

block body

  style.
    #parcel3 {
      position: relative;
    }
    #parcel3 span {
      display: inline-block;
    }
    #parcel3 span {
      transform: translateX(0) rotate(0deg);
      transform-origin: right;
    }
    #parcel3 span.shake {
      animation: shake .3s normal both linear;
      animation-iteration-count: var(--shakes);
      animation-delay: 0s;
    }
    #parcel3 span.moveToBox {
      animation: moveOffScreen forwards linear;
      animation-duration: var(--wind-speed);
      animation-delay: 0s;
    }
    .redBorder {
      border: 1px solid red;
    }
    @keyframes myFadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }
    @keyframes shake {
      from {
        transform: rotate(0deg);
      }
      25% {
        transform: rotate(var(--negative-rotation));
      }
      50% {
        transform: rotate(var(--random-rotation));
      }
      75% {
        transform: rotate(var(--positive-rotation));
      }
      to {
        transform: rotate(0deg);
      }
    }
    @keyframes moveOffScreen {
      from {
        transform: rotate(0deg) translateX(0);
      }
      5% {
        transform: rotate(var(--negative-rotation)) translateX(calc(var(--distance) * .05));
      }
      20% {
        transform: rotate(var(--positive-rotation)) translateX(calc(var(--distance) * .2));
      }
      50% {
        transform: rotate(var(--negative-rotation)) translateX(calc(var(--distance) * .5));
      }
      to {
        transform: rotate(0deg) translateX(var(--distance));
      }
    }
  .container
    #parcel3
      p Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent hendrerit ac augue vel tincidunt. Mauris imperdiet nunc in nunc faucibus tempus. Curabitur diam sapien, porttitor sed feugiat quis, sagittis vitae ex. Nam porttitor elit et lectus ultrices porttitor sed eget lacus. Sed sodales sit amet mauris vel lacinia. Suspendisse eget mauris eu enim accumsan imperdiet id ac mauris. Fusce sed magna nec leo aliquam laoreet non ut est. Integer tristique tellus ex, eget luctus mi molestie non. Nam quis fringilla metus, ut sagittis dui. Duis sed enim eget felis ullamcorper semper. Fusce finibus enim in ipsum pellentesque fringilla.

      p Quisque nibh augue, laoreet semper leo congue, sollicitudin interdum enim. Integer lobortis pharetra diam, et maximus lorem tempor eget. Nulla felis tellus, tristique ac ipsum quis, dignissim efficitur est. Suspendisse porta quam sit amet libero vestibulum, sed lacinia dui consequat. Nulla facilisi. Nullam vel pharetra quam. Mauris malesuada libero vel magna porttitor, non imperdiet sapien sodales. Interdum et malesuada fames ac ante ipsum primis in faucibus.

      p Morbi ac nisl vel felis sollicitudin sagittis. Morbi at orci vitae nulla mattis pretium eu id mauris. Aliquam ornare sem sit amet nunc accumsan interdum. In hac habitasse platea dictumst. Pellentesque malesuada purus sit amet euismod ornare. Donec rutrum cursus dolor, vel eleifend felis pretium nec. Proin eu hendrerit elit. Donec ullamcorper pellentesque viverra. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Suspendisse pellentesque at ipsum at porta. Vivamus imperdiet dui quis diam pellentesque condimentum.

      p Aliquam sodales ex nec nisl tristique bibendum. Sed tempus laoreet laoreet. Morbi sit amet magna non nibh dapibus consequat nec eget elit. Ut vitae diam ut magna convallis lobortis lobortis vel ligula. Nulla lectus tortor, egestas sit amet dictum sollicitudin, sagittis id lacus. Proin massa tellus, tempor a blandit vitae, gravida quis eros. Quisque vestibulum nisl a neque ultrices, sit amet gravida mi ultrices. Pellentesque lobortis euismod erat eu ultrices. Nam in enim sed quam mattis vestibulum. Etiam at sapien vitae neque accumsan consequat et et dui. Pellentesque maximus quam dui, vel volutpat arcu porttitor nec.

      p Mauris egestas tellus non justo sodales vulputate. Praesent vestibulum id eros vel mollis. Donec aliquam tincidunt imperdiet. Nunc tellus dui, consequat vel efficitur vel, tempus in eros. Cras luctus accumsan felis, ut blandit lectus porta quis. Donec egestas sapien ac dolor vehicula rhoncus. Ut finibus velit ut mauris mollis, quis blandit tortor mollis. Vestibulum quis arcu luctus, eleifend nisl sed, auctor justo. Quisque est elit, viverra in dui in, suscipit dapibus enim. Nam vulputate finibus mi, vel faucibus ex porta nec.


    script.
      function c() {
        let timeout = 500;
        function styleAndAnimate(el) {
          el.style.setProperty('--shakes', _.random(1, 4));
          el.style.setProperty('--positive-rotation', _.random(8, 20) + 'deg');
          el.style.setProperty('--negative-rotation', '-' + _.random(8, 20) + 'deg');
          el.style.setProperty('--random-rotation', _.random(-8, 8) + 'deg');
          el.style.setProperty('--distance', '-' + document.body.offsetWidth + 'px');
          el.style.setProperty('--wind-speed', _.random(1, 3, true) + 's');

          $(el).addClass('shake').one('animationend', function () {
            $(this).removeClass('shake').addClass('moveToBox')
          })
        }
        function handleRandomElementUnbounced(elements) {
          let sample = _.sample(elements)

          styleAndAnimate(sample)

          if (elements.length > 1) {
            setTimeout(function () { handleRandomElement(_.without(elements, sample)) }, timeout--)
          }
        }
        const handleRandomElement = _.debounce(handleRandomElementUnbounced)
        const container = document.getElementById('parcel3')
        const paragraphs = container.getElementsByTagName('p')

        for (var idx = 0; idx < paragraphs.length; idx++) {
          const words = paragraphs[idx].innerText.split(' ');
          function wrap(word) {
            const node = document.createElement('span')
            node.textContent = word
            return node.outerHTML
          }
          paragraphs[idx].innerHTML = words.map(wrap).join(' ')

          //- $(paragraphs[idx]).find("span").one('mouseenter', function(event) {
          //-   $(this).addClass('myFadeOut')
          //- });
        }

        const originalElements = $(container)
          .css("height", $(container).height())
          .find("span")
          .each(function (idx, el) {
            $(el).css("left", $(el).position().left)
            $(el).css("top", $(el).position().top)
          })
          .css("position", "absolute")
          .one('mouseenter', function(event) {
            document.body.style.overflow = 'hidden'
            let remaining = _.without(originalElements, this)

            styleAndAnimate(this)

            handleRandomElement(remaining)
          })
          .get()
      }
      c()
doctype html
html
  head
    title Adam Koch - Character 160, JavaScript and Regular Expressions text
    meta(content='JavaScript, char, character, 160, non-breaking, space, regular expression, regex' name='keywords')
    meta(content='Adam Koch' name='author')
  body
    p My string was created with this: 
      code String.fromCharCode(160) + &quot; \\t\\n\\r\u00A0&quot;
    div(style='font-family: Courier, monospace')
      script(type='text/javascript').
        var text = String.fromCharCode(160) + " \t\n\r\u00A0";// + "&#160;";
        document.write("text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= \"" + text + "\"<br/>");

        function trim(text) {
        return text.replace( /^\s+|\s+$/g, "" );
        }

        document.write("jQuery.trim(text) = \"" + trim(text) + "\"<br/>");

        function trim2(text) {
        return text.replace( /^(\s|\u00A0)+|(\s|\u00A0)+$/g, "" );
        }

        document.write("my trim(text)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= \"" + trim2(text) + "\"<br/><br/>");

        function searchFor(pattern, text) {
        for (var i = 0; i < text.length; i++) {
        if (text.charAt(i).search(pattern) > -1) {
        document.write("#");
        }
        else {
        document.write("_");
        }
        }
        document.write("<br/><br/>");
        }

        if (text.search(/\s/g) > -1) {
        document.write("replacing \\s with #<br/>");
        searchFor(/\s/g, text);
        }

        if (text.search(/\u00A0+/g) > -1) {
        document.write("replacing \\u00A0 with #<br/>");
        searchFor(/\u00A0+/g, text);
        }

        if (text.search(/&#160;+/g) > -1) {
        document.write("replacing \&amp;#160; with #<br/>");
        searchFor(/&#160;+/g, text);
        }

        if (text.search(/z+/g) > -1) {
        document.write("replacing z at with #<br/>");
        searchFor(/z+/g, text);
        }

        if (text.search(String.fromCharCode(160)) > -1) {
        document.write("replacing String.fromCharCode(160) at  with *<br/>");
        searchFor(String.fromCharCode(160), text);
        }
- var title = 'Contact Me'
doctype html
html(lang="en")

  head
    include ../templates/head

  body
    #landing-header
      include ../img/header_name.svg

    .container
      #comment-form

    include ../footer

    script(src="./commentForm.js" type="module")
- var title = 'Design'
mixin project(title)
  .project
    .project-wrapper
      h3= title
      .project-body
        if block
          block
        else
          p No description yet

block variables
doctype html
html.no-js(lang="en")

  head
    include ../templates/head
    style.
      img.md {
        width: 100%;
        max-width: 300px;
      }
      img.lg {
        width: 100%;
        max-width: 400px;
      }
      div:has(caption) {
        text-align: center;
      }
      a.a-words {
        display: block;
        float: left;
        text-align: right;
      }
      .project-wrapper {
        display: inline-grid;
      }
  body
    include ../templates/pageheader

    .container
      h1 #{title}

      h2 Designs of Mine

      //- #designs-app

      +project('Images', 'On going')
        h4 
          | As featured on 
          a(href="https://pixabay.com/users/aakoch-4434016/") Pixabay
        a(href="https://pixabay.com/users/aakoch-4434016/")
          img(src="../img/Canadian_Maple_Leaf.png")
          img(src="../img/oak_leaf.png")
          img(src="../img/oak_leaf2.png")
          img(src="../img/ornament.png")
          img(src="../img/snowman.png")

      +project('A-words', 'Completed')
        p Currently hosted on 
          a(href="https://www.troop308omaha.com/news/a-words/") Troop 308's Website

        div.1-words
          a.a-words.float-md-start(href="https://www.troop308omaha.com/wp-content/uploads/2018/10/a-words-2018-08-08.pdf")
            figure
              img.lg(src="../img/A_words_20181008.png" srcset="../img/A_words_20181008.png 1x, ../img/A_words_20181008.2x.png 2x")
              figcaption(style="padding-right:1px") October 8, 2018 -
          a.b-words.float-md-start(href="https://www.troop308omaha.com/wp-content/uploads/2020/02/a-words-2020-02-17.pdf")
            figure
              img.lg(src="../img/A_words_20200217.png" srcset="../img/A_words_20200217.png 1x, ../img/A_words_20200217.2x.png 2x")
              figcaption(style="padding-left:1px") February 17, 2020

      +project('Team Elijah', 'Completed')
        img.lg(src="../img/design3_80.png" srcset="../img/design3_80.png 1x, ../img/design3_80.2x.png 2x")

      +project('Moral Quote', 'Completed')
        img.lg(src="../img/quote.png")

      +project('Sonshine Preschool', 'Completed')
        p Just a proof of concept turned sticker for my wife's prior place of employment
        img.md(src="../img/sonshine.png")

      +project('Troop 308 Website', 'Completed')
        a(href="https://www.troop308omaha.com/") Website

      +project('Troop 308 T-Shirt Design', 'Completed')
        img.md(src="../img/survival-tshirt.svg")

    include ../templates/footer

    block body_scripts

    //- script(src="../js/designs.js" type="module")#footer
  span
    a(href="/contact/") Contact Me
  span &boxv;
  span Copyright &copy; 2008 - 2021 Adam A. Koch - All rights reserved

//- script(src='https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js' data-cfasync='false')
script.
  !function(e){if(!e.hasInitialised){var t={escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(e,t){var i=" ";return 1===e.nodeType&&(i+e.className+i).replace(/[\n\t]/g,i).indexOf(i+t+i)>=0},addClass:function(e,t){e.className+=" "+t},removeClass:function(e,t){var i=new RegExp("\\b"+this.escapeRegExp(t)+"\\b");e.className=e.className.replace(i,"")},interpolateString:function(e,t){return e.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,function(e){return t(arguments[1])||""})},getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");return t.length<2?void 0:t.pop().split(";").shift()},setCookie:function(e,t,i,n,o,s){var r=new Date;r.setHours(r.getHours()+24*(i||365));var a=[e+"="+t,"expires="+r.toUTCString(),"path="+(o||"/")];n&&a.push("domain="+n),s&&a.push("secure"),document.cookie=a.join(";")},deepExtend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(i in e&&this.isPlainObject(e[i])&&this.isPlainObject(t[i])?this.deepExtend(e[i],t[i]):e[i]=t[i]);return e},throttle:function(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout(function(){i=!1},t))}},hash:function(e){var t,i,n=0;if(0===e.length)return n;for(t=0,i=e.length;t<i;++t)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},normaliseHex:function(e){return"#"==e[0]&&(e=e.substr(1)),3==e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e},getContrast:function(e){return e=this.normaliseHex(e),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"#000":"#fff"},getLuminance:function(e){var t=parseInt(this.normaliseHex(e),16),i=38+(t>>16),n=38+(t>>8&255),o=38+(255&t);return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(n<255?n<1?0:n:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(e){return"object"==typeof e&&null!==e&&e.constructor==Object},traverseDOMPath:function(e,i){return e&&e.parentNode?t.hasClass(e,i)?e:this.traverseDOMPath(e.parentNode,i):null}};e.status={deny:"deny",allow:"allow",dismiss:"dismiss"},e.transitionEnd=function(){var e=document.createElement("div"),t={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var i in t)if(t.hasOwnProperty(i)&&void 0!==e.style[i+"ransition"])return t[i];return""}(),e.hasTransition=!!e.transitionEnd;var i=Object.keys(e.status).map(t.escapeRegExp);e.customStyles={},e.Popup=function(){var n={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(e){},onStatusChange:function(e,t){},onRevokeChoice:function(){},onNoCookieLaw:function(e,t){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"https://www.cookiesandyou.com",close:"&#x274c;",target:"_blank",policy:"Cookie Policy"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss btn">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}">\x3c!--googleoff: all--\x3e{{children}}\x3c!--googleon: all--\x3e</div>',revokeBtn:'<div class="cc-revoke {{classes}}">{{policy}}</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,dismissOnWindowClick:!1,ignoreClicksFrom:["cc-revoke","cc-btn"],autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};function o(){this.initialise.apply(this,arguments)}function s(e){this.openingTimeout=null,t.removeClass(e,"cc-invisible")}function r(t){t.style.display="none",t.removeEventListener(e.transitionEnd,this.afterTransition),this.afterTransition=null}function a(){var e=this.options.position.split("-"),t=[];return e.forEach(function(e){t.push("cc-"+e)}),t}function c(n){var o=this.options,s=document.createElement("div"),r=o.container&&1===o.container.nodeType?o.container:document.body;s.innerHTML=n;var a=s.children[0];return a.style.display="none",t.hasClass(a,"cc-window")&&e.hasTransition&&t.addClass(a,"cc-invisible"),this.onButtonClick=function(n){var o=t.traverseDOMPath(n.target,"cc-btn")||n.target;if(t.hasClass(o,"cc-btn")){var s=o.className.match(new RegExp("\\bcc-("+i.join("|")+")\\b")),r=s&&s[1]||!1;r&&(this.setStatus(r),this.close(!0))}t.hasClass(o,"cc-close")&&(this.setStatus(e.status.dismiss),this.close(!0));t.hasClass(o,"cc-revoke")&&this.revokeChoice()}.bind(this),a.addEventListener("click",this.onButtonClick),o.autoAttach&&(r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a)),a}function l(e){return"000000"==(e=t.normaliseHex(e))?"#222":t.getLuminance(e)}function u(e,t){for(var i=0,n=e.length;i<n;++i){var o=e[i];if(o instanceof RegExp&&o.test(t)||"string"==typeof o&&o.length&&o===t)return!0}return!1}return o.prototype.initialise=function(i){this.options&&this.destroy(),t.deepExtend(this.options={},n),t.isPlainObject(i)&&t.deepExtend(this.options,i),function(){var t=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return t(e.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return t(e.status.allow),!0;var i=Object.keys(e.status),n=this.getStatus(),o=i.indexOf(n)>=0;o&&t(n);return o}.call(this)&&(this.options.enabled=!1),u(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1),u(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);var o=this.options.window.replace("{{classes}}",function(){var i=this.options,n="top"==i.position||"bottom"==i.position?"banner":"floating";t.isMobile()&&(n="floating");var o=["cc-"+n,"cc-type-"+i.type,"cc-theme-"+i.theme];i.static&&o.push("cc-static");o.push.apply(o,a.call(this));(function(i){var n=t.hash(JSON.stringify(i)),o="cc-color-override-"+n,s=t.isPlainObject(i);this.customStyleSelector=s?o:null,s&&function(i,n,o){if(e.customStyles[i])return void++e.customStyles[i].references;var s={},r=n.popup,a=n.button,c=n.highlight;r&&(r.text=r.text?r.text:t.getContrast(r.background),r.link=r.link?r.link:r.text,s[o+".cc-window"]=["color: "+r.text,"background-color: "+r.background],s[o+".cc-revoke"]=["color: "+r.text,"background-color: "+r.background],s[o+" .cc-link,"+o+" .cc-link:active,"+o+" .cc-link:visited"]=["color: "+r.link],a&&(a.text=a.text?a.text:t.getContrast(a.background),a.border=a.border?a.border:"transparent",s[o+" .cc-btn"]=["color: "+a.text,"border-color: "+a.border,"background-color: "+a.background],a.padding&&s[o+" .cc-btn"].push("padding: "+a.padding),"transparent"!=a.background&&(s[o+" .cc-btn:hover, "+o+" .cc-btn:focus"]=["background-color: "+(a.hover||l(a.background))]),c?(c.text=c.text?c.text:t.getContrast(c.background),c.border=c.border?c.border:"transparent",s[o+" .cc-highlight .cc-btn:first-child"]=["color: "+c.text,"border-color: "+c.border,"background-color: "+c.background]):s[o+" .cc-highlight .cc-btn:first-child"]=["color: "+r.text]));var u=document.createElement("style");document.head.appendChild(u),e.customStyles[i]={references:1,element:u.sheet};var h=-1;for(var p in s)s.hasOwnProperty(p)&&u.sheet.insertRule(p+"{"+s[p].join(";")+"}",++h)}(n,i,"."+o);return s}).call(this,this.options.palette);this.customStyleSelector&&o.push(this.customStyleSelector);return o}.call(this).join(" ")).replace("{{children}}",function(){var e={},i=this.options;i.showLink||(i.elements.link="",i.elements.messagelink=i.elements.message);Object.keys(i.elements).forEach(function(n){e[n]=t.interpolateString(i.elements[n],function(e){var t=i.content[e];return e&&"string"==typeof t&&t.length?t:""})});var n=i.compliance[i.type];n||(n=i.compliance.info);e.compliance=t.interpolateString(n,function(t){return e[t]});var o=i.layouts[i.layout];o||(o=i.layouts.basic);return t.interpolateString(o,function(t){return e[t]})}.call(this)),s=this.options.overrideHTML;if("string"==typeof s&&s.length&&(o=s),this.options.static){var r=c.call(this,'<div class="cc-grower">'+o+"</div>");r.style.display="",this.element=r.firstChild,this.element.style.display="none",t.addClass(this.element,"cc-invisible")}else this.element=c.call(this,o);(function(){var i=this.setStatus.bind(this),n=this.close.bind(this),o=this.options.dismissOnTimeout;"number"==typeof o&&o>=0&&(this.dismissTimeout=window.setTimeout(function(){i(e.status.dismiss),n(!0)},Math.floor(o)));var s=this.options.dismissOnScroll;if("number"==typeof s&&s>=0){var r=function(t){window.pageYOffset>Math.floor(s)&&(i(e.status.dismiss),n(!0),window.removeEventListener("scroll",r),this.onWindowScroll=null)};this.options.enabled&&(this.onWindowScroll=r,window.addEventListener("scroll",r))}var a=this.options.dismissOnWindowClick,c=this.options.ignoreClicksFrom;if(a){var l=function(o){for(var s=!1,r=o.path.length,a=c.length,u=0;u<r;u++)if(!s)for(var h=0;h<a;h++)s||(s=t.hasClass(o.path[u],c[h]));s||(i(e.status.dismiss),n(!0),window.removeEventListener("click",l),window.removeEventListener("touchend",l),this.onWindowClick=null)}.bind(this);this.options.enabled&&(this.onWindowClick=l,window.addEventListener("click",l),window.addEventListener("touchend",l))}}).call(this),function(){"info"!=this.options.type&&(this.options.revokable=!0);t.isMobile()&&(this.options.animateRevokable=!1);if(this.options.revokable){var e=a.call(this);this.options.animateRevokable&&e.push("cc-animate"),this.customStyleSelector&&e.push(this.customStyleSelector);var i=this.options.revokeBtn.replace("{{classes}}",e.join(" ")).replace("{{policy}}",this.options.content.policy);this.revokeBtn=c.call(this,i);var n=this.revokeBtn;if(this.options.animateRevokable){var o=t.throttle(function(e){var i=!1,o=window.innerHeight-20;t.hasClass(n,"cc-top")&&e.clientY<20&&(i=!0),t.hasClass(n,"cc-bottom")&&e.clientY>o&&(i=!0),i?t.hasClass(n,"cc-active")||t.addClass(n,"cc-active"):t.hasClass(n,"cc-active")&&t.removeClass(n,"cc-active")},200);this.onMouseMove=o,window.addEventListener("mousemove",o)}}}.call(this),this.options.autoOpen&&this.autoOpen()},o.prototype.destroy=function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null),this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null),this.onWindowClick&&(window.removeEventListener("click",this.onWindowClick),this.onWindowClick=null),this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn),this.revokeBtn=null,function(i){if(t.isPlainObject(i)){var n=t.hash(JSON.stringify(i)),o=e.customStyles[n];if(o&&!--o.references){var s=o.element.ownerNode;s&&s.parentNode&&s.parentNode.removeChild(s),e.customStyles[n]=null}}}(this.options.palette),this.options=null},o.prototype.open=function(t){if(this.element)return this.isOpen()||(e.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},o.prototype.close=function(t){if(this.element)return this.isOpen()&&(e.hasTransition?this.fadeOut():this.element.style.display="none",t&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},o.prototype.fadeIn=function(){var i=this.element;if(e.hasTransition&&i&&(this.afterTransition&&r.call(this,i),t.hasClass(i,"cc-invisible"))){if(i.style.display="",this.options.static){var n=this.element.clientHeight;this.element.parentNode.style.maxHeight=n+"px"}this.openingTimeout=setTimeout(s.bind(this,i),20)}},o.prototype.fadeOut=function(){var i=this.element;e.hasTransition&&i&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),s.bind(this,i)),t.hasClass(i,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=r.bind(this,i),i.addEventListener(e.transitionEnd,this.afterTransition),t.addClass(i,"cc-invisible")))},o.prototype.isOpen=function(){return this.element&&""==this.element.style.display&&(!e.hasTransition||!t.hasClass(this.element,"cc-invisible"))},o.prototype.toggleRevokeButton=function(e){this.revokeBtn&&(this.revokeBtn.style.display=e?"":"none")},o.prototype.revokeChoice=function(e){this.options.enabled=!0,this.clearStatus(),this.options.onRevokeChoice.call(this),e||this.autoOpen()},o.prototype.hasAnswered=function(t){return Object.keys(e.status).indexOf(this.getStatus())>=0},o.prototype.hasConsented=function(t){var i=this.getStatus();return i==e.status.allow||i==e.status.dismiss},o.prototype.autoOpen=function(e){!this.hasAnswered()&&this.options.enabled?this.open():this.hasAnswered()&&this.options.revokable&&this.toggleRevokeButton(!0)},o.prototype.setStatus=function(i){var n=this.options.cookie,o=t.getCookie(n.name),s=Object.keys(e.status).indexOf(o)>=0;Object.keys(e.status).indexOf(i)>=0?(t.setCookie(n.name,i,n.expiryDays,n.domain,n.path,n.secure),this.options.onStatusChange.call(this,i,s)):this.clearStatus()},o.prototype.getStatus=function(){return t.getCookie(this.options.cookie.name)},o.prototype.clearStatus=function(){var e=this.options.cookie;t.setCookie(e.name,"",-1,e.domain,e.path)},o}(),e.Location=function(){var e={timeout:5e3,services:["ipinfo"],serviceDefinitions:{ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(e,t){try{var i=JSON.parse(t);return i.error?s(i):{code:i.country}}catch(e){return s({error:"Invalid response ("+e+")"})}}}},ipinfodb:function(e){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(e,t){try{var i=JSON.parse(t);return"ERROR"==i.statusCode?s({error:i.statusMessage}):{code:i.countryCode}}catch(e){return s({error:"Invalid response ("+e+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(e){window.geoip2?geoip2.country(function(t){try{e({code:t.country.iso_code})}catch(t){e(s(t))}},function(t){e(s(t))}):e(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}};function i(i){t.deepExtend(this.options={},e),t.isPlainObject(i)&&t.deepExtend(this.options,i),this.currentServiceIndex=-1}function n(e,t,i){var n,o=document.createElement("script");o.type="text/"+(e.type||"javascript"),o.src=e.src||e,o.async=!1,o.onreadystatechange=o.onload=function(){var e=o.readyState;clearTimeout(n),t.done||e&&!/loaded|complete/.test(e)||(t.done=!0,t(),o.onreadystatechange=o.onload=null)},document.body.appendChild(o),n=setTimeout(function(){t.done=!0,t(),o.onreadystatechange=o.onload=null},i)}function o(e,t,i,n,o){var s=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(s.open(n?"POST":"GET",e,1),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(o))for(var r=0,a=o.length;r<a;++r){var c=o[r].split(":",2);s.setRequestHeader(c[0].replace(/^\s+|\s+$/g,""),c[1].replace(/^\s+|\s+$/g,""))}"function"==typeof t&&(s.onreadystatechange=function(){s.readyState>3&&t(s)}),s.send(n)}function s(e){return new Error("Error ["+(e.code||"UNKNOWN")+"]: "+e.error)}return i.prototype.getNextService=function(){var e;do{e=this.getServiceByIdx(++this.currentServiceIndex)}while(this.currentServiceIndex<this.options.services.length&&!e);return e},i.prototype.getServiceByIdx=function(e){var i=this.options.services[e];if("function"==typeof i){var n=i();return n.name&&t.deepExtend(n,this.options.serviceDefinitions[n.name](n)),n}return"string"==typeof i?this.options.serviceDefinitions[i]():t.isPlainObject(i)?this.options.serviceDefinitions[i.name](i):null},i.prototype.locate=function(e,t){var i=this.getNextService();i?(this.callbackComplete=e,this.callbackError=t,this.runService(i,this.runNextServiceOnError.bind(this))):t(new Error("No services to run"))},i.prototype.setupUrl=function(e){var t=this.getCurrentServiceOpts();return e.url.replace(/\{(.*?)\}/g,function(i,n){if("callback"===n){var o="callback"+Date.now();return window[o]=function(t){e.__JSONP_DATA=JSON.stringify(t)},o}if(n in t.interpolateUrl)return t.interpolateUrl[n]})},i.prototype.runService=function(e,t){var i=this;e&&e.url&&e.callback&&(e.isScript?n:o)(this.setupUrl(e),function(n){var o=n?n.responseText:"";e.__JSONP_DATA&&(o=e.__JSONP_DATA,delete e.__JSONP_DATA),i.runServiceCallback.call(i,t,e,o)},this.options.timeout,e.data,e.headers)},i.prototype.runServiceCallback=function(e,t,i){var n=this,o=t.callback(function(t){o||n.onServiceResult.call(n,e,t)},i);o&&this.onServiceResult.call(this,e,o)},i.prototype.onServiceResult=function(e,t){t instanceof Error||t&&t.error?e.call(this,t,null):e.call(this,null,t)},i.prototype.runNextServiceOnError=function(e,t){if(e){this.logError(e);var i=this.getNextService();i?this.runService(i,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,t)},i.prototype.getCurrentServiceOpts=function(){var e=this.options.services[this.currentServiceIndex];return"string"==typeof e?{name:e}:"function"==typeof e?e():t.isPlainObject(e)?e:{}},i.prototype.completeService=function(e,t){this.currentServiceIndex=-1,e&&e(t)},i.prototype.logError=function(e){var t=this.currentServiceIndex,i=this.getServiceByIdx(t);console.warn("The service["+t+"] ("+i.url+") responded with the following error",e)},i}(),e.Law=function(){var e={regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","ES","SE","GB","UK","GR","EU"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]};function i(e){this.initialise.apply(this,arguments)}return i.prototype.initialise=function(i){t.deepExtend(this.options={},e),t.isPlainObject(i)&&t.deepExtend(this.options,i)},i.prototype.get=function(e){var t=this.options;return{hasLaw:t.hasLaw.indexOf(e)>=0,revokable:t.revokable.indexOf(e)>=0,explicitAction:t.explicitAction.indexOf(e)>=0}},i.prototype.applyLaw=function(e,t){var i=this.get(t);return i.hasLaw||(e.enabled=!1,"function"==typeof e.onNoCookieLaw&&e.onNoCookieLaw(t,i)),this.options.regionalLaw&&(i.revokable&&(e.revokable=!0),i.explicitAction&&(e.dismissOnScroll=!1,e.dismissOnTimeout=!1)),e},i}(),e.initialise=function(i,n,o){var s=new e.Law(i.law);n||(n=function(){}),o||(o=function(){});var r=Object.keys(e.status),a=t.getCookie("cookieconsent_status");r.indexOf(a)>=0?n(new e.Popup(i)):e.getCountryCode(i,function(t){delete i.law,delete i.location,t.code&&(i=s.applyLaw(i,t.code)),n(new e.Popup(i))},function(t){delete i.law,delete i.location,o(t,new e.Popup(i))})},e.getCountryCode=function(t,i,n){t.law&&t.law.countryCode?i({code:t.law.countryCode}):t.location?new e.Location(t.location).locate(function(e){i(e||{})},n):i({})},e.utils=t,e.hasInitialised=!0,window.cookieconsent=e}}(window.cookieconsent||{});
  window.cookieconsent.initialise({
  "palette": {
  "popup": {
  "background": "#406275"
  },
  "button": {
  "background": "#f5f7f8",
  "text": "#406275"
  }
  }
  });meta(charset="utf-8")
title Adam Koch - #{title}
meta(name="description",content="Software Developer and Clean Code Advocate")
meta(name="viewport",content="width=device-width, initial-scale=1")

meta(property="og:type",content="website")
meta(property="og:title",content="Adam Koch")
meta(property="og:description",content="Software Developer and Clean Code Advocate")
meta(property="og:url",content="https://www.adamkoch.com/")
meta(property="og:site_name",content="Adam Koch")
meta(property="og:image",content="img/cropped-brainscan-copy-2.jpg")
meta(property="og:image:width",content="512")
meta(property="og:image:height",content="512")
meta(property="og:locale",content="en_US")
meta(name="twitter:site",content="@aakoch")
meta(name="twitter:text:title",content="About Me")
meta(name="twitter:image",content="https://www.adamkoch.com/cropped-brainscan-copy-2.jpg")
meta(name="twitter:card",content="summary")
link(rel='apple-touch-icon' sizes='180x180' href='./apple-touch-icon.png')
link(rel='icon' type='image/png' sizes='32x32' href='./favicon-32x32.png')
link(rel='icon' type='image/png' sizes='16x16' href='./favicon-16x16.png')
link(rel='manifest' href='./site.webmanifest')
meta(name="msapplication-TileImage",content="img/cropped-brainscan-copy-2.jpg")

link(rel="stylesheet",href="css/bootstrap.scss")
link(rel='stylesheet' type='text/css' href='https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css')

script(async src="https://www.googletagmanager.com/gtag/js?id=UA-452464-5")
script.
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-452464-5');

script.
  let fouc = function() {
    // Optimization for Repeat Views
    if(sessionStorage.fontsLoadedFoutWithClass) {
      document.documentElement.className += " fonts-loaded";
      return;
    }

    if("fonts" in document) {
      Promise.all([
        document.fonts.load("1em Georama")
      ]).then(function () {
        document.documentElement.className += " fonts-loaded";

        // Optimization for Repeat Views
        sessionStorage.fontsLoadedFoutWithClass = true;
      });
    }
  }
  fouc()
- var title = 'Software Developer and Clean Code Advocate'
block variables
doctype html
html.no-js(lang="en")

  head
    include head
  body
    #landing-header
      include img/header_name.svg

    #landing-app

    include footer

    block body_scripts

    script(src="js/landing.js" type="module")
- var title = 'jq'
mixin project(title, status)
  .project
    .project-wrapper
      h2= title
      .project-body
        if block
          block
        else
          p No description yet
        .status-wrapper Status: 
          span.status #{status}
mixin code(description)
  if description
    div= description
      | :
  .mb-3
    code
      block
block variables
doctype html
html.no-js(lang="en")

  head
    include ../templates/head
  body
    include ../templates/pageheader

    .container
      h1 #{title}

      p jq is a command line tool for processing JSON.
      p
        a(href="https://stedolan.github.io/jq/") jq Homepage
        |  (
        a(href="https://stedolan.github.io/jq/manual/") Documentation
        | )

      h2 Installation
      p.mb-1 Easiest way is using 
        a(href="https://brew.sh/") Homebrew
        | :
      .mb-2
        code brew install jq

      h2 Examples
      +code('Pretty-print any JSON file') jq '.' package.json
      +code('Output your project\'s version number') jq '.version' package.json
      +code('.. and save a backup') jq '.version' package.json | xargs -I{} tar -azf {}.xz dist/*

      p.mb-1 Combined with 
        a(href="https://github.com/infovore/wxr_to_json") wxr_to_json
        | , I was able to take my Wordpress site and create JSON entries:
      code
        pre.
          git clone git@github.com:infovore/wxr_to_json.git
          cd wxr_to_json
          ./wxr_to_json.js ~/Downloads/adamkoch.WordPress.2021-08-09.xml > output.json

      p.mb-1 I can't remember if I even got this working:
      code
        pre.
          for f in $(ls -R **/index.json)
          do
            jq -r '"- var id=" + .["wp:post_id"] + "\n- var path=" + (.link | sub("https://www.adamkoch.com/"; "")) + (if (.tidyTags | length > 0) then ("\n- var tags=\"" + (.tidyTags | join(",")) + "\"") else "" end) + "\n- var publishedDate=\"" + (.["wp:post_date_gmt"] | sub(" "; "T") + "Z") + "\"\n" + (.["content:encoded"])' $f > $f.html
            grep -v "^- var.*" $f.html | html2pug > $f.pug
          done      

    include ../templates/footer

    block body_scripts- var title = 'Past Projects'
mixin project(title, status, tags)
  .project(class= (tags || []).map((tag) => tag.replaceAll(" ", "_")).join(" "))
    .project-wrapper
      h2= title
      .project-body
        .project-type
        if block
          block
        else
          p No description yet
        .status-wrapper Status: 
          span.status #{status}
mixin tags(tagArr) 
  each tag in tagArr
    div(style="display:none" class= tag.replaceAll(" ", "_"))

block variables
doctype html
html.no-js(lang="en")

  head
    include ../templates/head
    include ../templates/projects
    style.
      .software .project-type::before {
        font-family: 'Font Awesome 5 Free';
        font-style: normal;
        content: '\00f5fc';
        font-weight: 900;
      }
      .software .project-type:hover::before {
        content: 'Software Project';
        font-weight: 500;
      }
      .scouts .project-type::before {
        font-family: 'Font Awesome 5 Free';
        font-style: normal;
        content: '\00f5fc \00f14e';
        font-weight: 900;
      }
      .scouts .project-type:hover::before {
        content: 'Software Project and Scout Project';
        font-weight: 500;
      }
      .print .project-type::before {
        font-family: 'Font Awesome 5 Free';
        font-style: normal;
        content: '\00f1b2';
        font-weight: 900;
      }
      .print .project-type:hover::before {
        content: '3D Print Project';
        font-weight: 500;
      }
      .misc .project-type::before {
        font-family: 'Font Awesome 5 Free';
        font-style: normal;
        content: '\00f059';
        font-weight: 900;
      }
      .misc .project-type:hover::before {
        content: 'Miscellaneous Project';
        font-weight: 500;
      }
  body
    include ../templates/pageheader

    .container
      h1 #{title}

      p Currently a hodgepodge of 3D printed and software projects. 

      +project('Headphones Holder', 'Completed ', ['print'])
        p I designed and printed a thing that would clip to my desk at work and have a hook to hold my headphones. I wanted to keep the cord 
          | from getting tangled up, so I created a groove that would allow for swapping of different other pieces so I could prototype different ideas.
        img(src="../img/headphone_table_holder.png" width="300")
        p I used my "wood" filament which allowed me to lightly sand it in the end and I think it turned out well.

      +project('MacBook Pro Laptop Stand', 'Completed ', ['print'])
        img(src="../img/laptop_stand_preview.png" width="300")
        div
          a(href="https://www.thingiverse.com/thing:4673645") Thingiverse 
            i.fas.fa-external-link-alt

      +project('Pick Holder/s', 'Needing Documentation ', ['print'])
        p 3D printed desk holder for my lockpicks. 

      +project('Desk Phone Stand', 'Needing Documentation ', ['print'])
        p 3D printed desk stand for my phone.

      +project('Battery Holder', 'Needing Documentation ', ['print'])
        p 3D printed 3 AA battery holder. 
        p: a(href="https://www.thingiverse.com/thing:4578862") Thingiverse
          i.fas.fa-external-link-alt
        a(href="https://www.thingiverse.com/thing:4578862")
          img(src="../img/AA_battery_holder.jpeg" crossOrigin="anonymous" style="max-width:300px;height:auto")

      +project('Fan Dampener', 'Needing Documentation ', ['print'])
        p Dampen the vibrations of my desk fan with this printed device.

      +project('Toothpaste Tube Squeezer', 'Needing Documentation ', ['print'])
        p My attempt at creating a toothpaste tube squeezer.

      +project('Laptop Jack', 'Needing Documentation ', ['print'])
        div
          a(href="https://www.thingiverse.com/thing:4673975") Thingiverse 
            i.fas.fa-external-link-alt

      +project('Retractable comb pick handle', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:4598876")
          img(src="../img/IMG_7004.JPG" crossOrigin="anonymous" style="max-width:300px;height:auto")

      +project('Pegboard Hooks / Accessories', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:4584201") Thingiverse 
          i.fas.fa-external-link-alt

      +project('Turkish Spindle', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3840477")
          img(src="../img/turkish_spindle.jpg" style="width:300px")

      +project('Moddable Two (2) Case', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3816062") Thingiverse 
          i.fas.fa-external-link-alt

      +project('Foldable/Retractable Name Plaque/Plate', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3635785") Thingiverse 
          i.fas.fa-external-link-alt

      +project('FlashForge Finder Filament Spool Holder', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3617401") Thingiverse 
          i.fas.fa-external-link-alt

      +project('Chair piece', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3608559") 
          img(src="../img/chair_piece_rendering.png" style="max-width:300px")
          img(src="../img/chair_piece_installed.jpg" style="max-width:300px")

      +project('Pop can bag holder', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3578675") 
          img(src="../img/pop_can_holder.jpg" style="width:300px")

      +project('Qwirkle Tile Holder', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3539352")
          img(src="../img/IMG_7050.JPG" style="max-width:300px")

      +project('Monitor clasp and pencil/pen cup', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3530821")
          img(src="../img/monitor_arm_5_v22.jpg" style="max-width:300px;height:auto")

      +project('Clutch Bearing', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3530801") Thingiverse 
          i.fas.fa-external-link-alt

      +project('iPhone audio and power cord clamp', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3474643")
          img(src="../img/car_phone_plug_iphone_outside.png" style="width:300px")
          img(src="../img/car_phone_plug_iphone_v31.png" style="width:300px")

      +project('Square Gear with different holder', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3462458")
          img(src="https://cdn.thingiverse.com/renders/cd/a4/ea/c1/f7/0f0f2d5d3026fb3f54ea8ece8541bbc3_preview_featured.JPG" crossorigin style="width:300px")

      +project('Mobius Ball', 'Needing Documentation ', ['print'])
        a(href="https://www.thingiverse.com/thing:3460579")
          img(src="../img/mobius_ball_v7.png" style="width:300px")

      +project('Impossible Box', 'Needing Documentation ', ['print'])

      +project('Clothesline Animation', 'Needing Documentation ', ['software'])
        a(href="https://aakoch.github.io/clothesline.html") CSS animation

      +project('Punch Dad', 'Archived ', ['software'])
        p My first iPhone app
        a(href="https://github.com/aakoch/PunchDad") Archive

      +project('iptables', 'Abandoned', ['software'])
        p App to create iptable entries for managing my kids' internet time.
        a(href="https://github.com/aakoch/iptables") GitHub source

      +project('robocar', 'Needing Documentation ', ['software', 'hardware'])

      +project('slab', 'Needing Documentation ', ['software'])

      +project('in-a-meeting', 'Needing Documentation ', ['software', 'hardware'])

      +project('jinx-rules', 'Needing Documentation ', ['misc'])
        p Who doesn't need the "official" 
          a(href="https://aakoch.github.io/jinx-rules/") rules of jinx
          | ?

      +project('scoutbook-buddy', 'Needing Documentation ', ['software', 'scouts'])

      +project('dengroups', 'Needing Documentation ', ['software', 'scouts'])

      +project('zuid', 'Needing Documentation ', ['software'])

      +project('pet-peeves', 'Needing Documentation ', ['software'])

      +project('jQuery-Konami-Plugin', 'Needing Documentation ', ['software'])


    include ../templates/footer

    block body_scripts
extends ../../../../templates/blogpost

append variables
  - var title = "Moving off Wordpress and on to Netlify"
  - var posted = '2021-09-08'

append head
  script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
  script(src="/node_modules/jquerykeyframes/dist/jquery.keyframes.min.js")

  style.
    #bandwagonLink img {
      vertical-align: top;
    }
    .popupGator {
      background-image: url('/src/img/hostgator_icon.png');
      display: inline-block;
      background-repeat: no-repeat;
      background-position-x: 25px;
      background-position-y: 25px;
      text-decoration: underline dashed;
      transition-property: background-position-y;
      transition-duration: 2s;
    }
    .popupGator:hover {
      background-position-y: 0px;
    }

    li {
      margin-left: 25px;
    }

    #dns-before td, #dns-after td {
      border: 1px darkgray solid;
    }
    #dns-before tr, #dns-after tr {
      border: 1px darkgray solid;
    }
    #dns-before th, #dns-after th {
      font-weight: bold;
      text-rendering: geometricprecision;
      border: 1px darkgray solid;
    }
    #dns-before td, #dns-after td,
    #dns-before th, #dns-after th {
      padding: 5px 8px;
    }
    #dns-arrows {
      top: 50%;
      position: relative;
      transform: translateY(-50%);
    }
    img.icon {
      margin: 0 5px;
      height: 1.2em;
    }
    @keyframes myFadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }

block body

  .container.post#post-20210905
    .posted= posted
    .content
      h2 Preface
      p This post has been a long time coming. I started writing this Thursday, August 26. It's now September.
      h2#intro Why?
      p I started down the path of converting my Wordpress site to a static site because I started getting (or at least started getting notified of) &quot;hackers&quot; scanning my site for Wordpress vulnerabilities. 
        | I installed a plugin called 
        a(href="https://www.wordfence.com/" title="Wordfence Homepage") Wordfence
        | , which I have to say, is an awesome app for being free. It could block IPs that were hitting the site and you could configure it with how many hits before blocking or if they hit a specific URL known for a vulnerability. 
        | I don't know if there was an upgrade but I started seeing my site getting hit and I wanted to jump on the static site generator bandwagon before it was, you know, gone.
      a#bandwagonLink(title='Influx, CC BY-SA 4.0 &lt;https://creativecommons.org/licenses/by-sa/4.0&gt;, via Wikimedia Commons' href='https://commons.wikimedia.org/wiki/File:Bandwagon.jpg')
        img(alt='Bandwagon' src='/src/img/bandwagon.png')

      h2 Requirements

        #email
        h3 Email aliases
        p I use my email aliases a lot. I have almost 500 aliases. By creating email aliases I can further increase my personal security by using a different email <em>and</em> password on websites. I can see when a website a) sold my email or b) was compromised and discard any emails addressed to that address. 

      h2 Searching

      #email_hosting
      h3 Email Hosting
      p I've been using 
        span.popupGator Hostgator 
        |  for 10 years now and have been pretty happy with it. I was only planning on switching if I found another way to host that was cheaper 
        span.underline and
        |  I still had unlimited email aliases. 

      p I looked at 
        a(href="https://www.godaddy.com/email/professional-business-email") GoDaddy's email solution
        |  and 
        a(href="https://workspace.google.com/") Google's Workspace (formally G Suite)
        |  but neither had unlimited aliases. So I decided to stick with HostGator for email. 

      #website_hosting
      h3 Website Hosting
      h4 AWS 
      p When I started looking at alternate hosting solutions. I looked at AWS first but I <em>think</em> you have to have a Route 53 route set up if you want to use your own domain name. And 
        a(href="https://aws.amazon.com/route53/pricing/" title="$50/month") the cost
        |  of that was more than what I am paying now. 


      #netlify
      h4 Netlify 
      p I've "kicked the tires" before and they wow'd me with 
        a(href="https://thanosjs.org/") ThanosJS
        |  . Ok, not really with the the ThanosJS, but with the tool used to deploy it: 
        a(href="https://app.netlify.com/drop") Netlify Drop
        |  .

      p When I tested the deploy this time it went smoothly so, that's where I'm at now.

      h2 Steps
      h3 Separating the email and site servers
      p I first had to split my current site that served as my email server and my webserver. I did some research into domain name records.

      ol DNS resources
        li: a(href="https://www.cloudflare.com/learning/dns/dns-records/" title="DNS records definitions") DNS records definitions
        li
          a(href="https://www.hostgator.com/help/article/how-to-route-email-to-your-server-independently" title="How to Route Email to Your Server Independently") HostGator article
          |  which has been deprecated since I last saw it and took the time to comment and report that it was outdated. 🤔 
        li
          a(href="https://hostadvice.com/how-to/how-to-configure-email-on-a-different-host-from-the-website/" title="How to Configure Email on a Different Host from the Website") How to Configure Email on a Different Host from the Website
          |  It wasn't up-to-date either, but provided clues to get me there
        li
          a(href="https://docs.netlify.com/domains-https/custom-domains/configure-external-dns/" title="Netlify's documentation on configuring an external DNS for a custom domain") Configure external DNS for a custom domain

      h4 DNS Steps
      h5 Mail Server Settings
      p I basically had to set up an existing subdomain to instead point to an IP address and not to my root domain. What was not documented was what to do if that subdomain already exists. I have cPanel and it wasn't letting me set the email configuration on the existing domain. I tried creating a new mail subdomain but that didn't seem right with ....

      .container
        .row
          .col-12.col-xl-5
            table#dns-before
              caption.text-center Before
              tr
                th Name
                th TTL
                th Class
                th Type
                th Record
              tr
                td mail.adamkoch.com.
                td 14400
                td IN
                td CNAME
                td adamkoch.com
              tr
                td adamkoch.com.
                td 14400
                td IN
                td MX
                td
                  | Priority: 0
                  br
                  | Destination: adamkoch.com
          .col-xl-2.text-center
            i.fas.fa-angle-double-right#dns-arrows
          .col-12.col-xl-5
            table#dns-after
              caption.text-center After
              tr
                th Name
                th TTL
                th Class
                th Type
                th Record
              tr
                td mail.adamkoch.com.
                td 14400
                td IN
                td A
                td 192.185.57.80
              tr
                td adamkoch.com.
                td 14400
                td IN
                td MX	
                td
                  | Priority: 0
                  br
                  | Destination: mail.adamkoch.com

      .aside Ok, I've been delaying this post for a long time so the next few parts are very thin.

      h5 Web Server Settings

      p Netlify does most of the work. Follow the directions 
        a(href="https://docs.netlify.com/domains-https/custom-domains/configure-external-dns/#configure-an-apex-domain") here
        |. The only "gotcha" was I originally had "www.adamkoch.com" as the A record instead of "adamkoch.com". Not a big deal and easy to rectify.

      h2 Results
      p Since I really enjoy learning this has been awesome. 

      h2 Conclusion
      p If you have a chance to learn something new, then do it! 

    script(type="module").
      import _ from 'lodash'
      import _debug from 'debug'
      const debug = _debug('aakoch:pugAnimation')

      jQuery(() => {
        $("#bandwagonLink").one("mouseenter", function() {
          $(this).fadeOut(2000);
        });

        const pugImg = $('#pugImg')
        const woofs = {
          0: $('#woof1'),
          1: $('#woof2')
        }
        let canMove = true;
        let rotateLeft = true;

        const element = pugImg[0]
        let start, previousTimeStamp, x, y;

        const debouncedMovePug = _.debounce(movePug, 10)
        const debouncedUpdateCoordinates = _.debounce(updateCoordinates, 30)

        function updateCoordinates(event) {
          if (process.env.NODE_ENV !== 'production') console.debug("inside updateCoordinates")
          if (canMove) {
            x = event.pageX
            y = event.pageY
            movePug()
          }
        }

        function movePug() {
          if (process.env.NODE_ENV !== 'production') console.log(process.env.NODE_ENV)
          if (process.env.NODE_ENV !== 'production') console.debug("inside movePug")
          if (canMove) {
            if (process.env.NODE_ENV !== 'production') console.log(parseInt(pugImg.css("left"), 10) + ',' + parseInt(pugImg.css("top"), 10) + ' -> ' + x + ',' + y);
            let distX = x - parseInt(pugImg.css("left"), 10)
            let distY = y - parseInt(pugImg.css("top"), 10)
            let dist = distX + distY

            let fromTransform = 'translate(0px, 0px)'
            if (process.env.NODE_ENV !== 'production') console.log(`fromTransform=${fromTransform}`)
            let toTransform = 'translate(' + distX + 'px, ' + distY + 'px)'
            if (process.env.NODE_ENV !== 'production') console.log(`toTransform=${toTransform}`)
            $.keyframe.define({
              name: 'move',
              from: {
                'transform': fromTransform
              },
              to: {
                'transform': toTransform
              }
            });
            pugImg.resetKeyframe();
            if (process.env.NODE_ENV !== 'production') console.debug("calling playKeyframe")
            pugImg.playKeyframe(
              'move 1s ease-in-out .1s forwards',
              function() {
                if (process.env.NODE_ENV !== 'production') console.log("inside end of move")

                canMove = true;
                pugImg.css("left", x + "px")
                pugImg.css("top", y + "px")
                pugImg.css("animation", "none")

                let barkTwice = Math.floor(Math.random() * 3) > 0;

                pugImg.resetKeyframe();
                if (barkTwice) {
                  pugImg.playKeyframe('bark2 .7s linear 0s forwards')
                }
                else {
                  pugImg.playKeyframe('bark .3s linear 0s forwards')
                }

                rotateLeft = !rotateLeft

                let keyframeIdx = Math.floor(Math.random() * 2)
                const currentX = x
                const currentY = y
                function go(i, keyframeIdx) {
                  if (process.env.NODE_ENV !== 'production') console.debug("inside go")

                  woofs[i].css("left", (currentX+15) + "px")
                  woofs[i].css("top", (currentY-15) + "px")

                  woofs[i].playKeyframe('woof' + keyframeIdx + ' .9s ease-out 0s forwards')
                }

                go(0, keyframeIdx)
                if (barkTwice) {
                  setTimeout(function () {
                    woofs[1].show().css("visibility", "visible") 
                    go(1, keyframeIdx)
                  }, 300)
                }

              }
            );

            canMove = false
          }
        }

        $("#pug")
          .mousemove(function (event) {
            debouncedUpdateCoordinates(event)
          })
          .mouseenter(function (event) {
            canMove = true;
            woofs[0].show().css("visibility", "visible") 
            pugImg.fadeIn(1000, function () {
            });
          })
          .mouseleave(function (event) {
            canMove = false;
            pugImg.fadeOut(1000);
          });

          pugImg.css("top", "100px")
          pugImg.css("left", "-110px")

          woofs[0].css("top", "100px")
          woofs[0].css("left", "-110px")

          woofs[1].css("top", "100px")
          woofs[1].css("left", "-110px")
      });extends ../../../../templates/blogpost

append variables
  - var title = "My Stack"
  - var posted = '2021-09-17'

append head

  style.
    #pugImg {
      display: block;
      position: absolute;
      width: 100px;
      transition-timing-function: ease-in-out;
    }
    #woof1, #woof2 {
      display: block;
      position: absolute;
      visibility: hidden;
    }
    .popupGator {
      background-image: url('/src/img/hostgator_icon.png');
      display: inline-block;
      background-repeat: no-repeat;
      background-position-x: 35px;
      background-position-y: 25px;
      text-decoration: underline dashed;
      transition-property: background-position-y;
      transition-duration: 2s;
    }
    .popupGator:hover {
      background-position-y: 0px;
    }

    li {
      margin-left: 25px;
    }

    img.icon {
      margin: 0 5px;
      height: 1.2em;
    }
    @keyframes woof0 {
      from {
        transform: translate(0, 0);
        opacity: 1;
      }
      to {
        transform: translate(30px, -30px) scale(2.2) rotate(30deg);
        opacity: 0;
      }
    }
    @keyframes woof1 {
      from {
        transform: translate(0, 0);
        opacity: 1;
      }
      to {
        transform: translate(-30px, -30px) scale(2.2) rotate(-30deg);
        opacity: 0;
      }
    }
    @keyframes bark {
      from {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      to {
        transform: scale(1);
      }
    }
    @keyframes bark2 {
      from {
        transform: scale(1);
      }
      25% {
        transform: scale(1.05);
      }
      50% {
        transform: scale(1);
      }
      75% {
        transform: scale(1.05);
      }
      to {
        transform: scale(1);
      }
    }
    @keyframes myFadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }

block body

  .container.post#post-20210907
    .posted= posted
    .content
      #stack
      p Hey guys! I wanted to tell you about my current stack for this website because I have cute dog that appears when you mouse over the part about Pug.
      #pug
        h3 Pug
        p I like  
          a(href="https://pugjs.org/api/getting-started.html" title="Pug Homepage") Pug
          |  because it takes a lot of the verboseness of HTML away. Think Markdown but you can still actually do things with Pug. Yes, Pug is a <em>little</em> more verbose, but it makes up for it by allowing you to do more than a handful of things! The limitations of Markdown make me wonder why so many people like it. Anyway... I ❤️ Pug.

        p It has support, although, while creating this site, I just seems as though there is less support than before. 

        .aside
          i.fas.fa-angle-double-right 
          | Quick link: 
          a(href="https://html2pug.vercel.app/" title="Free online HTML to Pug conversion tool") Tool for taking some HTML and converting it to Pug

        #parcel
        h3 Parcel
        p
          a(href="https://parceljs.org/" title="Parcel web application bundler") Parcel 
          | is a site packager that supports Pug out of the box. 
          a(href="https://v2.parceljs.org/" title="Parcel v2 web application bundler") Version 2
          |  doesn't advertise it though. One of the reasons I think Pug is on the way out.

        #vue
        h3 Vue
        p I'm not sure if Vue was a requirement, but when comparing it to React, Vue supports Pug. 

        #bootstrap
        h3 Bootstrap
        p Not really a requirement, but I haven't looked into alternatives and I sort of know it.

        #npm
        h3 NPM
        p I'm not sure why I'm even listing this. Seems projects suggest Yarn more than NPM. But I'm not having the best experience with either of them. 

      #issues
      h2 Issues (so far)

      h3 # 1 style(type=application/scss) errors
      p I was trying to use the correct type (I thought) when using 
        a(href="https://sass-lang.com/" title="A superset of CSS") Sass
        | . It wasn't work and ended up creating 
        a(href="https://github.com/parcel-bundler/parcel/issues/6689" title="Github issue") a Github issue 
        |  just to be told to use 
        span.font-monospace `type=text/scss`
        | .

      h3 # 2 SVGs aren't properly minimized
      p I have to set 
        span.font-monospace `"minifySvg": false`
        |  in 
        span.font-monospace .htmlnanorc
        | .

      h3 # 3 Pug imports wonky
      p If you have Pug templates or other external files several layers deep, the resolving of directories stop working. Either have to limit how you can layout your files or use "absolute" paths from the project root.

      h3 # 4 Sass variables not passed down
      p Actually, this might not be an issue. The idea is I want to define some Sass variables in a file and be able to use those in my pages and Vue components. I haven't tried too hard yet to get this to work. I have to read up on 
        a(href="https://v2.parceljs.org/languages/css/#css-modules" title="Parcel documentaion on CSS modules") CSS modules
        | .

      h3 # 5 CORS
      p On a couple of pages I want to load some external images and CORS gets in the way. I eventually just turned if off locally using 
        span.font-monospace `.proxyrc.js`

      h3 #6 - #8
      p TBD

      h3 # 9 segfaults
      p The Sharp imaging package causes 

        a(href="https://answers.netlify.com/t/segmentation-fault-on-build/34003/6?u=aakoch" title="Discussion on Netlify about segfaults") segmentation faults
        | . It can transform images during your build and I was looking forward to using 
        span.font-monospace imgset
        | s and webp images. 

      h3 # 10 strange imports 
      p I think this is duplicate of #3.

      h3 # 11 No logging
      p Seriously. I tried turning on verbose logging, changing the log levels, using debug and nothing! 
        span.font-monospace `--log-level=verbose`
        |  doesn't seem to do anything

      h3 # 12 Some reporter is broken
      p When I was trying to increase logging, I set up some "reporters" and one just failed. I asked about logging and really didn't get a satisfying answer.

      h3 # 13
      p I was trying to put a countdown timer on my site and had to resort to directly depending on a forked repo.
      pre: code.language-JSON "countdown": "git://github.com/mckamey/countdownjs.git#1902fb23d21d84958b302c117fe472634a5bcf52",

      h3 # 14 Can't use styling in &lt;head&gt;
      p I *have* to use an external stylesheet because of 
        a(href="https://github.com/parcel-bundler/parcel/issues/6883" title="Parcel bug report") a bug  
        |  where Parcel doesn't seem to honor the configuration in `#[span.font-monospace .cssnanorc]`.  

      h3 # 15 cssnano 
      p I have to turn off minifyGradients because of 
        a(href="https://github.com/cssnano/cssnano/issues/650" title="cssnano bug report") a bug in cssnano 
        |  which removes the first stop in gradients. Or use the workaround: use a really small decimal like .0001px 

      h3.mt-4 # 6 - 8 Syntax Highlighting
      p I'm using 
        a(href="https://code.visualstudio.com/") Visual Studio Code
        img.icon(src="/src/img/vs_code.svg" alt="Visual Studio Code icon")
        |  to code front-end apps and found the Pug syntax highlighting failed in the case where a 
        code script
        |  tag had the type attribute set to "module". It isn't the end of the world, but annoying enough I went down the path of trying to fix it. I went to 
        a(href="https://code.visualstudio.com/docs#vscode") the VS Code documentation site
        |  and searched for syntax highlighting and found 
        a(href="https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide") this guide
        | . I tried to 
        a(href="https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide#injection-grammars") injection grammar
        |  but I didn't know what I was doing so I had to give up on that. (How am I was supposed to know what value to "injectTo"?) So I poked around in the application source 
        | and found pug.tmLanguage.json. From there I was able to find the section that deals with Javascript and add in some regex to allow "module". But it simply said that not to reject the script if it found "module" -- it didn't highlight the attribute nor value. At the top of the file is a disclaimer: 
      .aside.quote This file has been converted from 
        a(href="https://github.com/davidrios/pug-tmbundle/blob/master/Syntaxes/Pug.JSON-tmLanguage") https://github.com/davidrios/pug-tmbundle/blob/master/Syntaxes/Pug.JSON-tmLanguage
        |  If you want to provide a fix or improvement, please create a pull request against the original repository.
        | Once accepted there, we are happy to receive an update request.
      p So I perused the repo and found that someone had already created a PR that correctly colored what I hadn't. It was opened in 2019. Ugh. So I think the repo is abandoned.

      h3 Tests
      p I wasn't worried about tests until I push out my site with a broken link, navigation broken, and posts not loading. I spent all last night working on it and it has come down to this: if I want to use Mocha I have to use webpack. Or I can switch to Jest. That's a story for another post.

      h2 Conclusion
      p When starting out, Parcel with Pug is easy and straightfoward. But man, anything beyound that and it gets yucky. 

    img#pugImg(src="/src/img/pug.svg" alt="Pug Logo")
    #woof1: h3 Woof!
    #woof2: h3 Woof!

    script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')
    script(src="/node_modules/jquerykeyframes/dist/jquery.keyframes.min.js")

    script(type="module").

      import hljs from 'highlight.js/lib/core';
      import _ from 'lodash'

      import _debug from 'debug'
      const debug = _debug('aakoch:pugAnimation')

      jQuery(() => {
        const pugImg = $('#pugImg')
        const woofs = {
          0: $('#woof1'),
          1: $('#woof2')
        }
        let canMove = true;
        let rotateLeft = true;

        const element = pugImg[0]
        let start, previousTimeStamp, x, y;

        const debouncedMovePug = _.debounce(movePug, 10)
        const debouncedUpdateCoordinates = _.debounce(updateCoordinates, 30)

        function updateCoordinates(event) {
          if (process.env.NODE_ENV !== 'production') console.debug("inside updateCoordinates")
          if (canMove) {
            x = event.pageX
            y = event.pageY
            movePug()
          }
        }

        function movePug() {
          if (process.env.NODE_ENV !== 'production') console.log(process.env.NODE_ENV)
          if (process.env.NODE_ENV !== 'production') console.debug("inside movePug")
          if (canMove) {
            if (process.env.NODE_ENV !== 'production') console.log(parseInt(pugImg.css("left"), 10) + ',' + parseInt(pugImg.css("top"), 10) + ' -> ' + x + ',' + y);
            let distX = x - parseInt(pugImg.css("left"), 10)
            let distY = y - parseInt(pugImg.css("top"), 10)
            let dist = distX + distY

            let fromTransform = 'translate(0px, 0px)'
            if (process.env.NODE_ENV !== 'production') console.log(`fromTransform=${fromTransform}`)
            let toTransform = 'translate(' + distX + 'px, ' + distY + 'px)'
            if (process.env.NODE_ENV !== 'production') console.log(`toTransform=${toTransform}`)
            $.keyframe.define({
              name: 'move',
              from: {
                'transform': fromTransform
              },
              to: {
                'transform': toTransform
              }
            });
            pugImg.resetKeyframe();
            if (process.env.NODE_ENV !== 'production') console.debug("calling playKeyframe")
            pugImg.playKeyframe(
              'move 1s ease-in-out .1s forwards',
              function() {
                if (process.env.NODE_ENV !== 'production') console.log("inside end of move")

                canMove = true;
                pugImg.css("left", x + "px")
                pugImg.css("top", y + "px")
                pugImg.css("animation", "none")

                let barkTwice = Math.floor(Math.random() * 3) > 0;

                pugImg.resetKeyframe();
                if (barkTwice) {
                  pugImg.playKeyframe('bark2 .7s linear 0s forwards')
                }
                else {
                  pugImg.playKeyframe('bark .3s linear 0s forwards')
                }

                rotateLeft = !rotateLeft

                let keyframeIdx = Math.floor(Math.random() * 2)
                const currentX = x
                const currentY = y
                function go(i, keyframeIdx) {
                  if (process.env.NODE_ENV !== 'production') console.debug("inside go: i = " + i, "keyframeIdx", keyframeIdx)

                  woofs[i].css("left", (currentX+15) + "px")
                  woofs[i].css("top", (currentY-15) + "px")

                  woofs[i].playKeyframe('woof' + keyframeIdx + ' .9s ease-out 0s forwards')
                }

                go(0, keyframeIdx)
                if (barkTwice) {
                  setTimeout(function () {
                    woofs[1].show().css("visibility", "visible") 
                    go(1, keyframeIdx)
                  }, 300)
                }

              }
            );

            canMove = false
          }
        }

        $("#pug")
          .mousemove(function (event) {
            debouncedUpdateCoordinates(event)
          })
          .mouseenter(function (event) {
            canMove = true;
            woofs[0].show().css("visibility", "visible") 
            pugImg.fadeIn(1000, function () {
            });
          })
          .mouseleave(function (event) {
            canMove = false;
            pugImg.fadeOut(1000);
          });

          pugImg.css("top", "100px")
          pugImg.css("left", "-110px")

          woofs[0].css("top", "100px")
          woofs[0].css("left", "-110px")

          woofs[1].css("top", "100px")
          woofs[1].css("left", "-110px")
      });

      window.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre code').forEach((el) => {
          hljs.highlightElement(el);
        })
      })- var title = 'Blog'
block variables
doctype html
html.no-js(lang="en")

  head
    include ../templates/head
  body
    include ../templates/pageheader

    #posts-app

    include ../templates/footer

    block body_scripts

    script(src="../js/posts.js" type="module")- var title = 'Current Projects'
mixin project(title, status)
  .project
    .project-wrapper
      h2= title
      .project-body
        if block
          block
        else
          p No description yet
        .status-wrapper Status: 
          span.status #{status}

block variables
doctype html
html.no-js(lang="en")

  head
    include ../templates/head
  body
    include ../templates/pageheader

    .container
      h1 #{title}

      +project('Animations', 'Ongoing')
        p Just some fun I've been having with CSS animations. If something doesn't work for you, 
          a(href="/contact/") I'd love to know
          | .
        ul
          li: a(href="../animations/bark.pug") Bark
          li: a(href="../animations/wind.pug") Wind
          li: a(href="../animations/fadeOutOnMouseOver.pug") Fade out on mouseoever
          li: a(href="../animations/infectSiblings.pug") Fade out siblings
          if process.env.NODE_ENV != 'production'
            li: a(href="../animations/infectNeighbors.pug") Fade out neighbors
          li: a(href="../animations/sensitive.pug") Sensitive

      +project('Swamp Fan', 'Stage One Complete; Stage Two In Progress')
        p It started when my wife bought me a tabletop, USB-powered "air conditioner". 
        p: a(href="/projects/swampfan/" title="Project: Swamp Fan") Read more

      +project('This Site', 'In Progress')
        h3 1.0.0 Released
        .releaseDate.mb-3 2021-08-31
        p I felt obligated to release 1.0.0 of the site when I read on 
          a(href='https://semver.org/spec/v1.0.0.html' title='Semantic Versioning') semver.org
          |  that if you are in production, you should be at least 1.0. So, I pushed 1.0.0 today. And of course, writing this probably makes me have to bump this up a version. I won't if it's just a new post, but I really don't have posts up yet. So here's to 1.0.1! 🍾

      +project('SLAB', 'Let\'s not talk about it')

    include ../templates/footer

    block body_scripts- var title = 'Swamp Fan'
block variables
doctype html
html.no-js(lang="en")

  head
    include ../../templates/head
  body
    include ../../templates/pageheader

    .container
      a.text-end(style='display:block' href="/projects" title="Projects")
        i.fas.fa-angle-double-left
        |  Back to current projects
      h1 #{title}

      p Sorry, I haven't gotten around to writing this up yet. But here are some 
        strike pretty
        |  pictures!

      #app

        img(src='/src/img/swamp_fan_1_0.1.jpg' alt="Swamp fan")
        img(src='/src/img/swamp_fan_1_0.2.jpg' alt="Swamp fan")
        img(src='/src/img/swamp_fan_1_0.3.jpg' alt="Swamp fan")

    include ../../templates/footer

    block body_scriptsdoctype html
html.no-js(lang="en")
  head
    title "Children's rules"
  //- *Have* to use an external stylesheet because of bug Parcel doesn't seem to honor the 
  //- configuration in .cssnanorc.  I have to turn off minifyGradients because of a bug in cssnano 
  //- which removes the first stop in gradients. https://github.com/cssnano/cssnano/issues/650
  link(rel="stylesheet" href="./styles.scss")
  body
    #scrollTop

    #background
    .container
      h1 Children's rules
      .updated-at updated 9/2/2021
      .rule 
        strike Join family Life 360 and 
        | leave notifications on at all times 

      .rule: p.
        Mom or Dad can DENY having people over at ANY time. Do not expect friends to come over on school nights but allowances can be made in certain situations.

      .rule: p.
        Bedtime means in your room trying to sleep. Some leeway is given for devices (TV, Echo Dot) that help you sleep. No watching/listening adrenaline inducing TV shows, movies, metal music (unless that's soothing to you according to your mother), etc.

      .rule: p.
        We don’t have huge or unreasonable expectations for you, please respect us and the expectations we lay out.  If you show us respect, we will respect you, and with earned respect comes privileges. 

      .rule: p.
        Any commitments are just that. They are not to be broken.  We expect any commitment made to be a priority and to be completed to the best of your ability. 

      .rule.unratified: p.
        We expect texts to be answered within 30 minutes unless safety would be compromised.

      .rule.unratified: p.
        Phone calls should be answered always.

      h2 Joel's rules:
      .times
        .weekdays
          .title Sunday - Thursday:
          .rule All devices, iPhone/s 📱, iPad/s, laptop/s 💻 turned in at 21:00, bedtime 22:00 (aka 9pm 🕘 and 10pm 🕙)
        .weekends
          .title Friday &amp; Saturday:
          .rule All devices, iPhone/s 📱, iPad/s, laptop/s 💻 turned in at 22:00, bedtime 23:00 (aka 10pm 🕙 and 11pm 🕚)

      .rule
        p Set a robotics 🤖 schedule and stick to it. A predictable schedule for carpooling, team, and Mr. W - it’s not just the “Joel robotics show”. 

      h3 Provisional rules:
      .rule
        ul If there are any missing assignments (there are any marked missing in portal):
          li No phone usage at home (no YouTube in the mornings, baths, etc)
          li No computer if there are any missing assignments
          li No TV until you have emailed the teacher and shown proof the assignment has been turned in

      .rule: p.
        On September 15th at 20:00, if you still have any missing assignments as shown in portal, all the previous rules apply plus phone privileges will be restricted at school 🏫 to phone and text usage to a set of contacts picked by Mom and Dad.
      .countdown(data-date='2021-09-15T20:00:00.000-05:00')

      h2 Alyssa's rules:
      .times
        .weekdays
          .title Sunday - Thursday:
          .rule All devices, iPhone/s 📱, iPad/s, laptop/s 💻 turned into our room at 22:00, bedtime 23:00 (aka 10pm 🕙 and 11pm 🕚)

        .weekends
          .title Friday &amp; Saturday:
          .rule All devices, iPhone/s 📱, iPad/s, laptop/s 💻 turned into our room at 23:00, bedtime 24:00 (aka 11pm 🕚 and midnight 🕛) 

      .rule: p.
        You have 2 parents, Dad and Mom are a team.  When asking permission to do something or have someone over, please text both of us. 

      h3 Provisional Rules:
      .rule  No purchases until September 16 at 00:00

      .rule
        | No hanging out with friends 👯‍♀️ except on these occasions:
        ul
          li At our house at Mom and Dad's discretion
          li School activities sanctioned by North High and OPS
        | This rule will be null and void September 9 at 00:00
        .countdown(data-date='2021-09-09T00:00:00.000-05:00')

      h2 Monthly chores for September:
      div Joel - 
        ul
          li feed and water cocoa Monday thru Friday before school. 
          li water plants 

      div Alyssa -
        ul
          li collect trash, replace liner bags, take out recycling and take all cans to the curb Sunday night.  Pull cans to the side of the house on Monday 
          li empty recycling as needed during the week 
          li vacuum stairs Saturday or Sunday 

    #scrollBottom

  script(type="module").
    import moment from 'moment'; 
    import countdown from 'countdown'; 
    window.addEventListener('DOMContentLoaded', (event) => {
      Array.from(document.getElementsByClassName('countdown')).forEach(function (el) {
        function update(el) {
          el.innerText = countdown(moment(el.dataset.date)).toString();
        }
        setInterval(function() { update(el) }, 1000)
      });
    });
    // repeating-linear-gradient( -45deg ,#d4d8b6 20px,#b1b1b1 0 40px); // not working
    // repeating-linear-gradient( -45deg , #d4d8b6 0 20px, #b1b1b1 20px 40px); // working- var title = 'Tech I Dig'
mixin project(title, status)
  .project
    .project-wrapper
      h2= title
      .project-body
        if block
          block
        else
          p No description yet
        .status-wrapper Status: 
          span.status #{status}

block variables
doctype html
html.no-js(lang="en")

  head
    include ../templates/head
    style(type="text/scss").
      li {
        list-style-image: url(../img/dot.8.svg);
      }
      a[href^="http"]::after {
        content: "\f35d";
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        -moz-osx-font-smoothing: grayscale;
        -webkit-font-smoothing: antialiased;
        display: inline-block;
        font-style: normal;
        font-variant: normal;
        text-rendering: auto;
        line-height: 1;
        margin-left: 5px 
      }

  body
    include ../templates/pageheader

    .container
      h1 #{title}

      p As I'm thinking of what I want to put on this page, the list is growing...

      ul
        li
          a(href="https://pugjs.org/") Pug
        li
          a(href="https://v2.parceljs.org/") Parcel
        li
          a(href="https://www.moddable.com/moddable-two.php") Moddable
        li
          a(href="https://openmv.io/") OpenMV
        li  Node/NPM
        li  Vue
        li  vi
        li
          a(href="/jq") jq 
        li  zsh
        li
          a(href="https://github.com/kfix/ddcctl" title="ddcctl project on GitHub") ddcctl
        li  scripts
        li  AWS
        li  neo4j
        li  Kotlin
        li  Homebrew
        li  oh-my-zsh
        li  Flashforge Finder 3D printer
        li
          a(href="https://www.lipsum.com/" title="Lorem Ipsum generator") Lorem Ipsum generator
        li  ...

    include ../templates/footer

    block body_scriptsblock variables
doctype html
html.no-js(lang="en")

  head
    include head
    block head
  body
    include pageheader

    .container
      h1 #{title}
      block body

    include ../templates/footer

    block body_scripts
#footer
  p &copy; Adam Koch 2021

//- script(src='https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js' data-cfasync='false')
script.
  !function(e){if(!e.hasInitialised){var t={escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(e,t){var i=" ";return 1===e.nodeType&&(i+e.className+i).replace(/[\n\t]/g,i).indexOf(i+t+i)>=0},addClass:function(e,t){e.className+=" "+t},removeClass:function(e,t){var i=new RegExp("\\b"+this.escapeRegExp(t)+"\\b");e.className=e.className.replace(i,"")},interpolateString:function(e,t){return e.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,function(e){return t(arguments[1])||""})},getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");return t.length<2?void 0:t.pop().split(";").shift()},setCookie:function(e,t,i,n,o,s){var r=new Date;r.setHours(r.getHours()+24*(i||365));var a=[e+"="+t,"expires="+r.toUTCString(),"path="+(o||"/")];n&&a.push("domain="+n),s&&a.push("secure"),document.cookie=a.join(";")},deepExtend:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(i in e&&this.isPlainObject(e[i])&&this.isPlainObject(t[i])?this.deepExtend(e[i],t[i]):e[i]=t[i]);return e},throttle:function(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout(function(){i=!1},t))}},hash:function(e){var t,i,n=0;if(0===e.length)return n;for(t=0,i=e.length;t<i;++t)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},normaliseHex:function(e){return"#"==e[0]&&(e=e.substr(1)),3==e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e},getContrast:function(e){return e=this.normaliseHex(e),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"#000":"#fff"},getLuminance:function(e){var t=parseInt(this.normaliseHex(e),16),i=38+(t>>16),n=38+(t>>8&255),o=38+(255&t);return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(n<255?n<1?0:n:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(e){return"object"==typeof e&&null!==e&&e.constructor==Object},traverseDOMPath:function(e,i){return e&&e.parentNode?t.hasClass(e,i)?e:this.traverseDOMPath(e.parentNode,i):null}};e.status={deny:"deny",allow:"allow",dismiss:"dismiss"},e.transitionEnd=function(){var e=document.createElement("div"),t={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var i in t)if(t.hasOwnProperty(i)&&void 0!==e.style[i+"ransition"])return t[i];return""}(),e.hasTransition=!!e.transitionEnd;var i=Object.keys(e.status).map(t.escapeRegExp);e.customStyles={},e.Popup=function(){var n={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(e){},onStatusChange:function(e,t){},onRevokeChoice:function(){},onNoCookieLaw:function(e,t){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"https://www.cookiesandyou.com",close:"&#x274c;",target:"_blank",policy:"Cookie Policy"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss btn">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}">\x3c!--googleoff: all--\x3e{{children}}\x3c!--googleon: all--\x3e</div>',revokeBtn:'<div class="cc-revoke {{classes}}">{{policy}}</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,dismissOnWindowClick:!1,ignoreClicksFrom:["cc-revoke","cc-btn"],autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};function o(){this.initialise.apply(this,arguments)}function s(e){this.openingTimeout=null,t.removeClass(e,"cc-invisible")}function r(t){t.style.display="none",t.removeEventListener(e.transitionEnd,this.afterTransition),this.afterTransition=null}function a(){var e=this.options.position.split("-"),t=[];return e.forEach(function(e){t.push("cc-"+e)}),t}function c(n){var o=this.options,s=document.createElement("div"),r=o.container&&1===o.container.nodeType?o.container:document.body;s.innerHTML=n;var a=s.children[0];return a.style.display="none",t.hasClass(a,"cc-window")&&e.hasTransition&&t.addClass(a,"cc-invisible"),this.onButtonClick=function(n){var o=t.traverseDOMPath(n.target,"cc-btn")||n.target;if(t.hasClass(o,"cc-btn")){var s=o.className.match(new RegExp("\\bcc-("+i.join("|")+")\\b")),r=s&&s[1]||!1;r&&(this.setStatus(r),this.close(!0))}t.hasClass(o,"cc-close")&&(this.setStatus(e.status.dismiss),this.close(!0));t.hasClass(o,"cc-revoke")&&this.revokeChoice()}.bind(this),a.addEventListener("click",this.onButtonClick),o.autoAttach&&(r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a)),a}function l(e){return"000000"==(e=t.normaliseHex(e))?"#222":t.getLuminance(e)}function u(e,t){for(var i=0,n=e.length;i<n;++i){var o=e[i];if(o instanceof RegExp&&o.test(t)||"string"==typeof o&&o.length&&o===t)return!0}return!1}return o.prototype.initialise=function(i){this.options&&this.destroy(),t.deepExtend(this.options={},n),t.isPlainObject(i)&&t.deepExtend(this.options,i),function(){var t=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return t(e.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return t(e.status.allow),!0;var i=Object.keys(e.status),n=this.getStatus(),o=i.indexOf(n)>=0;o&&t(n);return o}.call(this)&&(this.options.enabled=!1),u(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1),u(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);var o=this.options.window.replace("{{classes}}",function(){var i=this.options,n="top"==i.position||"bottom"==i.position?"banner":"floating";t.isMobile()&&(n="floating");var o=["cc-"+n,"cc-type-"+i.type,"cc-theme-"+i.theme];i.static&&o.push("cc-static");o.push.apply(o,a.call(this));(function(i){var n=t.hash(JSON.stringify(i)),o="cc-color-override-"+n,s=t.isPlainObject(i);this.customStyleSelector=s?o:null,s&&function(i,n,o){if(e.customStyles[i])return void++e.customStyles[i].references;var s={},r=n.popup,a=n.button,c=n.highlight;r&&(r.text=r.text?r.text:t.getContrast(r.background),r.link=r.link?r.link:r.text,s[o+".cc-window"]=["color: "+r.text,"background-color: "+r.background],s[o+".cc-revoke"]=["color: "+r.text,"background-color: "+r.background],s[o+" .cc-link,"+o+" .cc-link:active,"+o+" .cc-link:visited"]=["color: "+r.link],a&&(a.text=a.text?a.text:t.getContrast(a.background),a.border=a.border?a.border:"transparent",s[o+" .cc-btn"]=["color: "+a.text,"border-color: "+a.border,"background-color: "+a.background],a.padding&&s[o+" .cc-btn"].push("padding: "+a.padding),"transparent"!=a.background&&(s[o+" .cc-btn:hover, "+o+" .cc-btn:focus"]=["background-color: "+(a.hover||l(a.background))]),c?(c.text=c.text?c.text:t.getContrast(c.background),c.border=c.border?c.border:"transparent",s[o+" .cc-highlight .cc-btn:first-child"]=["color: "+c.text,"border-color: "+c.border,"background-color: "+c.background]):s[o+" .cc-highlight .cc-btn:first-child"]=["color: "+r.text]));var u=document.createElement("style");document.head.appendChild(u),e.customStyles[i]={references:1,element:u.sheet};var h=-1;for(var p in s)s.hasOwnProperty(p)&&u.sheet.insertRule(p+"{"+s[p].join(";")+"}",++h)}(n,i,"."+o);return s}).call(this,this.options.palette);this.customStyleSelector&&o.push(this.customStyleSelector);return o}.call(this).join(" ")).replace("{{children}}",function(){var e={},i=this.options;i.showLink||(i.elements.link="",i.elements.messagelink=i.elements.message);Object.keys(i.elements).forEach(function(n){e[n]=t.interpolateString(i.elements[n],function(e){var t=i.content[e];return e&&"string"==typeof t&&t.length?t:""})});var n=i.compliance[i.type];n||(n=i.compliance.info);e.compliance=t.interpolateString(n,function(t){return e[t]});var o=i.layouts[i.layout];o||(o=i.layouts.basic);return t.interpolateString(o,function(t){return e[t]})}.call(this)),s=this.options.overrideHTML;if("string"==typeof s&&s.length&&(o=s),this.options.static){var r=c.call(this,'<div class="cc-grower">'+o+"</div>");r.style.display="",this.element=r.firstChild,this.element.style.display="none",t.addClass(this.element,"cc-invisible")}else this.element=c.call(this,o);(function(){var i=this.setStatus.bind(this),n=this.close.bind(this),o=this.options.dismissOnTimeout;"number"==typeof o&&o>=0&&(this.dismissTimeout=window.setTimeout(function(){i(e.status.dismiss),n(!0)},Math.floor(o)));var s=this.options.dismissOnScroll;if("number"==typeof s&&s>=0){var r=function(t){window.pageYOffset>Math.floor(s)&&(i(e.status.dismiss),n(!0),window.removeEventListener("scroll",r),this.onWindowScroll=null)};this.options.enabled&&(this.onWindowScroll=r,window.addEventListener("scroll",r))}var a=this.options.dismissOnWindowClick,c=this.options.ignoreClicksFrom;if(a){var l=function(o){for(var s=!1,r=o.path.length,a=c.length,u=0;u<r;u++)if(!s)for(var h=0;h<a;h++)s||(s=t.hasClass(o.path[u],c[h]));s||(i(e.status.dismiss),n(!0),window.removeEventListener("click",l),window.removeEventListener("touchend",l),this.onWindowClick=null)}.bind(this);this.options.enabled&&(this.onWindowClick=l,window.addEventListener("click",l),window.addEventListener("touchend",l))}}).call(this),function(){"info"!=this.options.type&&(this.options.revokable=!0);t.isMobile()&&(this.options.animateRevokable=!1);if(this.options.revokable){var e=a.call(this);this.options.animateRevokable&&e.push("cc-animate"),this.customStyleSelector&&e.push(this.customStyleSelector);var i=this.options.revokeBtn.replace("{{classes}}",e.join(" ")).replace("{{policy}}",this.options.content.policy);this.revokeBtn=c.call(this,i);var n=this.revokeBtn;if(this.options.animateRevokable){var o=t.throttle(function(e){var i=!1,o=window.innerHeight-20;t.hasClass(n,"cc-top")&&e.clientY<20&&(i=!0),t.hasClass(n,"cc-bottom")&&e.clientY>o&&(i=!0),i?t.hasClass(n,"cc-active")||t.addClass(n,"cc-active"):t.hasClass(n,"cc-active")&&t.removeClass(n,"cc-active")},200);this.onMouseMove=o,window.addEventListener("mousemove",o)}}}.call(this),this.options.autoOpen&&this.autoOpen()},o.prototype.destroy=function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null),this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null),this.onWindowClick&&(window.removeEventListener("click",this.onWindowClick),this.onWindowClick=null),this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn),this.revokeBtn=null,function(i){if(t.isPlainObject(i)){var n=t.hash(JSON.stringify(i)),o=e.customStyles[n];if(o&&!--o.references){var s=o.element.ownerNode;s&&s.parentNode&&s.parentNode.removeChild(s),e.customStyles[n]=null}}}(this.options.palette),this.options=null},o.prototype.open=function(t){if(this.element)return this.isOpen()||(e.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},o.prototype.close=function(t){if(this.element)return this.isOpen()&&(e.hasTransition?this.fadeOut():this.element.style.display="none",t&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},o.prototype.fadeIn=function(){var i=this.element;if(e.hasTransition&&i&&(this.afterTransition&&r.call(this,i),t.hasClass(i,"cc-invisible"))){if(i.style.display="",this.options.static){var n=this.element.clientHeight;this.element.parentNode.style.maxHeight=n+"px"}this.openingTimeout=setTimeout(s.bind(this,i),20)}},o.prototype.fadeOut=function(){var i=this.element;e.hasTransition&&i&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),s.bind(this,i)),t.hasClass(i,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=r.bind(this,i),i.addEventListener(e.transitionEnd,this.afterTransition),t.addClass(i,"cc-invisible")))},o.prototype.isOpen=function(){return this.element&&""==this.element.style.display&&(!e.hasTransition||!t.hasClass(this.element,"cc-invisible"))},o.prototype.toggleRevokeButton=function(e){this.revokeBtn&&(this.revokeBtn.style.display=e?"":"none")},o.prototype.revokeChoice=function(e){this.options.enabled=!0,this.clearStatus(),this.options.onRevokeChoice.call(this),e||this.autoOpen()},o.prototype.hasAnswered=function(t){return Object.keys(e.status).indexOf(this.getStatus())>=0},o.prototype.hasConsented=function(t){var i=this.getStatus();return i==e.status.allow||i==e.status.dismiss},o.prototype.autoOpen=function(e){!this.hasAnswered()&&this.options.enabled?this.open():this.hasAnswered()&&this.options.revokable&&this.toggleRevokeButton(!0)},o.prototype.setStatus=function(i){var n=this.options.cookie,o=t.getCookie(n.name),s=Object.keys(e.status).indexOf(o)>=0;Object.keys(e.status).indexOf(i)>=0?(t.setCookie(n.name,i,n.expiryDays,n.domain,n.path,n.secure),this.options.onStatusChange.call(this,i,s)):this.clearStatus()},o.prototype.getStatus=function(){return t.getCookie(this.options.cookie.name)},o.prototype.clearStatus=function(){var e=this.options.cookie;t.setCookie(e.name,"",-1,e.domain,e.path)},o}(),e.Location=function(){var e={timeout:5e3,services:["ipinfo"],serviceDefinitions:{ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(e,t){try{var i=JSON.parse(t);return i.error?s(i):{code:i.country}}catch(e){return s({error:"Invalid response ("+e+")"})}}}},ipinfodb:function(e){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(e,t){try{var i=JSON.parse(t);return"ERROR"==i.statusCode?s({error:i.statusMessage}):{code:i.countryCode}}catch(e){return s({error:"Invalid response ("+e+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(e){window.geoip2?geoip2.country(function(t){try{e({code:t.country.iso_code})}catch(t){e(s(t))}},function(t){e(s(t))}):e(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}};function i(i){t.deepExtend(this.options={},e),t.isPlainObject(i)&&t.deepExtend(this.options,i),this.currentServiceIndex=-1}function n(e,t,i){var n,o=document.createElement("script");o.type="text/"+(e.type||"javascript"),o.src=e.src||e,o.async=!1,o.onreadystatechange=o.onload=function(){var e=o.readyState;clearTimeout(n),t.done||e&&!/loaded|complete/.test(e)||(t.done=!0,t(),o.onreadystatechange=o.onload=null)},document.body.appendChild(o),n=setTimeout(function(){t.done=!0,t(),o.onreadystatechange=o.onload=null},i)}function o(e,t,i,n,o){var s=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(s.open(n?"POST":"GET",e,1),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(o))for(var r=0,a=o.length;r<a;++r){var c=o[r].split(":",2);s.setRequestHeader(c[0].replace(/^\s+|\s+$/g,""),c[1].replace(/^\s+|\s+$/g,""))}"function"==typeof t&&(s.onreadystatechange=function(){s.readyState>3&&t(s)}),s.send(n)}function s(e){return new Error("Error ["+(e.code||"UNKNOWN")+"]: "+e.error)}return i.prototype.getNextService=function(){var e;do{e=this.getServiceByIdx(++this.currentServiceIndex)}while(this.currentServiceIndex<this.options.services.length&&!e);return e},i.prototype.getServiceByIdx=function(e){var i=this.options.services[e];if("function"==typeof i){var n=i();return n.name&&t.deepExtend(n,this.options.serviceDefinitions[n.name](n)),n}return"string"==typeof i?this.options.serviceDefinitions[i]():t.isPlainObject(i)?this.options.serviceDefinitions[i.name](i):null},i.prototype.locate=function(e,t){var i=this.getNextService();i?(this.callbackComplete=e,this.callbackError=t,this.runService(i,this.runNextServiceOnError.bind(this))):t(new Error("No services to run"))},i.prototype.setupUrl=function(e){var t=this.getCurrentServiceOpts();return e.url.replace(/\{(.*?)\}/g,function(i,n){if("callback"===n){var o="callback"+Date.now();return window[o]=function(t){e.__JSONP_DATA=JSON.stringify(t)},o}if(n in t.interpolateUrl)return t.interpolateUrl[n]})},i.prototype.runService=function(e,t){var i=this;e&&e.url&&e.callback&&(e.isScript?n:o)(this.setupUrl(e),function(n){var o=n?n.responseText:"";e.__JSONP_DATA&&(o=e.__JSONP_DATA,delete e.__JSONP_DATA),i.runServiceCallback.call(i,t,e,o)},this.options.timeout,e.data,e.headers)},i.prototype.runServiceCallback=function(e,t,i){var n=this,o=t.callback(function(t){o||n.onServiceResult.call(n,e,t)},i);o&&this.onServiceResult.call(this,e,o)},i.prototype.onServiceResult=function(e,t){t instanceof Error||t&&t.error?e.call(this,t,null):e.call(this,null,t)},i.prototype.runNextServiceOnError=function(e,t){if(e){this.logError(e);var i=this.getNextService();i?this.runService(i,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,t)},i.prototype.getCurrentServiceOpts=function(){var e=this.options.services[this.currentServiceIndex];return"string"==typeof e?{name:e}:"function"==typeof e?e():t.isPlainObject(e)?e:{}},i.prototype.completeService=function(e,t){this.currentServiceIndex=-1,e&&e(t)},i.prototype.logError=function(e){var t=this.currentServiceIndex,i=this.getServiceByIdx(t);console.warn("The service["+t+"] ("+i.url+") responded with the following error",e)},i}(),e.Law=function(){var e={regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","ES","SE","GB","UK","GR","EU"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]};function i(e){this.initialise.apply(this,arguments)}return i.prototype.initialise=function(i){t.deepExtend(this.options={},e),t.isPlainObject(i)&&t.deepExtend(this.options,i)},i.prototype.get=function(e){var t=this.options;return{hasLaw:t.hasLaw.indexOf(e)>=0,revokable:t.revokable.indexOf(e)>=0,explicitAction:t.explicitAction.indexOf(e)>=0}},i.prototype.applyLaw=function(e,t){var i=this.get(t);return i.hasLaw||(e.enabled=!1,"function"==typeof e.onNoCookieLaw&&e.onNoCookieLaw(t,i)),this.options.regionalLaw&&(i.revokable&&(e.revokable=!0),i.explicitAction&&(e.dismissOnScroll=!1,e.dismissOnTimeout=!1)),e},i}(),e.initialise=function(i,n,o){var s=new e.Law(i.law);n||(n=function(){}),o||(o=function(){});var r=Object.keys(e.status),a=t.getCookie("cookieconsent_status");r.indexOf(a)>=0?n(new e.Popup(i)):e.getCountryCode(i,function(t){delete i.law,delete i.location,t.code&&(i=s.applyLaw(i,t.code)),n(new e.Popup(i))},function(t){delete i.law,delete i.location,o(t,new e.Popup(i))})},e.getCountryCode=function(t,i,n){t.law&&t.law.countryCode?i({code:t.law.countryCode}):t.location?new e.Location(t.location).locate(function(e){i(e||{})},n):i({})},e.utils=t,e.hasInitialised=!0,window.cookieconsent=e}}(window.cookieconsent||{});
  window.cookieconsent.initialise({
  "palette": {
  "popup": {
  "background": "#406275"
  },
  "button": {
  "background": "#f5f7f8",
  "text": "#406275"
  }
  }
  });
meta(charset="utf-8")
title Adam Koch - #{title}
meta(name="description",content="Software Developer and Clean Code Advocate")
meta(name="viewport",content="width=device-width, initial-scale=1")

meta(property="og:type",content="website")
meta(property="og:title",content="Adam Koch")
meta(property="og:description",content="Software Developer and Clean Code Advocate")
meta(property="og:url",content="https://www.adamkoch.com/")
meta(property="og:site_name",content="Adam Koch")
meta(property="og:image",content="/src/img/cropped-brainscan-copy-2.jpg")
meta(property="og:image:width",content="512")
meta(property="og:image:height",content="512")
meta(property="og:locale",content="en_US")
meta(name="twitter:site",content="@aakoch")
meta(name="twitter:text:title",content="About Me")
meta(name="twitter:image",content="/src/img/cropped-brainscan-copy-2.jpg")
meta(name="twitter:card",content="summary")
link(rel="icon",href="/src/img/cropped-brainscan-copy-2.jpg",sizes="32x32")
link(rel="icon",href="/src/img/cropped-brainscan-copy-2.jpg",sizes="192x192")
link(rel="apple-touch-icon",href="/src/img/cropped-brainscan-copy-2.jpg")
meta(name="msapplication-TileImage",content="/src/img/cropped-brainscan-copy-2.jpg")

link(rel="stylesheet",href="/src/css/bootstrap.scss")
link(rel='stylesheet',type='text/css',href='https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css')

script(async,src="https://www.googletagmanager.com/gtag/js?id=UA-452464-5")
script(async,src="https://cse.google.com/cse.js?cx=6d55acc2bd38eaf1d")

script(src="~/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js")

script.
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-452464-5');

script.
  let fouc = function() {
    // Optimization for Repeat Views
    if(sessionStorage.fontsLoadedFoutWithClass) {
      document.documentElement.className += " fonts-loaded";
      return;
    }

    if("fonts" in document) {
      Promise.all([
        document//fonts.load("1em Georama")
      ]).then(function () {
        document.documentElement.className += " fonts-loaded";

        // Optimization for Repeat Views
        sessionStorage.fontsLoadedFoutWithClass = true;
      });
    }
  }
  fouc()
.container-fluid#header
  include ../img/header_name.svg
//- script(type="module" src="~/node_modules/bootstrap/js/dist/collapse")
nav.navbar.navbar-expand-md.navbar-dark
  .navbar-brand 
    a(href="/")
      include ../img/header_name.svg
  button.navbar-toggler.collapsed(type='button' data-bs-toggle='collapse' data-bs-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
    span.navbar-toggler-icon
  .navbar-collapse.navbar-nav.me-auto.mb-2.mb-lg-0.collapse#navbarSupportedContent
    .nav-item
      if title=="Blog"
        .nav-link.active(aria-current="page") Blog
      else
        a(href="/posts").nav-link Blog
    .nav-item
      if title=="Current Projects"
        .nav-link.active(aria-current="page") Current Projects
      else
        a(href="/projects").nav-link Current Projects
    .nav-item
      if title=="Past Projects"
        .nav-link.active(aria-current="page") Past Projects
      else
        a(href="/past_projects").nav-link Past Projects
    .nav-item
      if title=="Tech I Dig"
        .nav-link.active(aria-current="page") Tech
      else
        a(href="/tech").nav-link Tech
    .nav-item
      if title=="Design"
        .nav-link.active(aria-current="page") Design
      else
        a(href="/design").nav-link Design
    .nav-item
      .gcse-search

//- nav.navbar.navbar-expand-md.navbar-dark.bg-dark
//-   .navbar-brand 
//-     include ../img/header_name.svg
//-   .navbar-nav
//-     .nav-item
//-       a(href="/").nav-link Home
//-     .nav-item
//-       if title=="Blog"
//-         .nav-link.active Blog
//-       else
//-         a(href="/posts").nav-link Blog
//-     .nav-item
//-       if title=="Current Projects"
//-         .nav-link.active Current Projects
//-       else
//-         a(href="/projects").nav-link Current Projects
//-     .nav-item
//-       if title=="Past Projects"
//-         .nav-link.active Past Projects
//-       else
//-         a(href="/past_projects").nav-link Past Projects
      .page-header
      include navbar
      .divider
